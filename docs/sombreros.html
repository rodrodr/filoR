<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Tres sombreros de copaRedes en diálogo – filoR</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-b6254045a21d07dd46cfe160e8c2e3db.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Buscar"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="site_libs/d3-4.9.1/d3.min.js"></script>
<script src="site_libs/forceNetwork-binding-0.4.1/forceNetwork.js"></script>
<script src="site_libs/core-js-2.5.3/shim.min.js"></script>
<script src="site_libs/react-18.2.0/react.min.js"></script>
<script src="site_libs/react-18.2.0/react-dom.min.js"></script>
<script src="site_libs/reactwidget-2.0.0/react-tools.js"></script>
<link href="site_libs/reactable-0.4.4/reactable.css" rel="stylesheet">
<script src="site_libs/reactable-binding-0.4.4/reactable.js"></script>
<script src="site_libs/d3-bundle-5.16.0/d3-bundle.min.js"></script>
<script src="site_libs/d3-lasso-0.0.5/d3-lasso.min.js"></script>
<script src="site_libs/save-svg-as-png-1.4.17/save-svg-as-png.min.js"></script>
<script src="site_libs/flatbush-4.4.0/flatbush.min.js"></script>
<link href="site_libs/ggiraphjs-0.8.10/ggiraphjs.min.css" rel="stylesheet">
<script src="site_libs/ggiraphjs-0.8.10/ggiraphjs.min.js"></script>
<script src="site_libs/girafe-binding-0.8.13/girafe.js"></script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./sombreros.html">Tres sombreros de copa</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Buscar" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">filoR</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Buscar"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introducción al curso</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prepa.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preparación</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./regenta.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">La Regenta</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sombreros.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Tres sombreros de copa</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">En esta página</h2>
   
  <ul>
  <li><a href="#introducción" id="toc-introducción" class="nav-link active" data-scroll-target="#introducción">Introducción</a></li>
  <li><a href="#redes-de-diálogo" id="toc-redes-de-diálogo" class="nav-link" data-scroll-target="#redes-de-diálogo">Redes de diálogo</a>
  <ul class="collapse">
  <li><a href="#protagonismo-como-atributo-de-la-red" id="toc-protagonismo-como-atributo-de-la-red" class="nav-link" data-scroll-target="#protagonismo-como-atributo-de-la-red">Protagonismo como atributo de la red</a></li>
  <li><a href="#comunidades-de-personajes" id="toc-comunidades-de-personajes" class="nav-link" data-scroll-target="#comunidades-de-personajes">Comunidades de personajes</a></li>
  </ul></li>
  <li><a href="#temas-y-redes" id="toc-temas-y-redes" class="nav-link" data-scroll-target="#temas-y-redes">Temas y redes</a>
  <ul class="collapse">
  <li><a href="#modelado-de-tópicos-sin-redes" id="toc-modelado-de-tópicos-sin-redes" class="nav-link" data-scroll-target="#modelado-de-tópicos-sin-redes">Modelado de tópicos sin redes</a></li>
  <li><a href="#extracción-de-tópicos-a-partir-de-redes" id="toc-extracción-de-tópicos-a-partir-de-redes" class="nav-link" data-scroll-target="#extracción-de-tópicos-a-partir-de-redes">Extracción de tópicos a partir de redes</a></li>
  </ul></li>
  <li><a href="#etiquetado-léxico" id="toc-etiquetado-léxico" class="nav-link" data-scroll-target="#etiquetado-léxico">Etiquetado léxico</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><b>Tres sombreros de copa</b><br>Redes en diálogo</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="introducción" class="level2">
<h2 class="anchored" data-anchor-id="introducción">Introducción</h2>
<p>En este segundo documento, utilizaremos la obra de Miguel Mihura, <em>Tres sombreros de copa</em>, para ilustrar un conjunto de técnicas de análisis textual distintas de las que hemos examinado con “La Regenta”. Nuestro objetivo actual consiste en centrar la atención en las redes de diálogo y de palabras para identificar patrones y temas en la obra.</p>
</section>
<section id="redes-de-diálogo" class="level2">
<h2 class="anchored" data-anchor-id="redes-de-diálogo">Redes de diálogo</h2>
<p>Como podéis ver en el apartado de <a href="prepa.html">preparación</a>, hemos estructurado el texto de la obra en una base de datos que contiene los diálogos, el personaje que habla y el receptor del mensaje. A partir de dichas informaciones, podemos emplear técnicas de análisis de redes para identificar patrones de interacción entre los personajes.</p>
<p>El código abajo transforma la base de datos en un objeto de red que puede ser visualizado. En este caso, utilizamos la función <code>simpleNetwork</code> del paquete <code>networkD3</code> para crear una visualización interactiva de la red de diálogos entre los personajes de la obra.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># carga los datos de la obra</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">"../textos/Tres_sombreros_de_copa.RData"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga el paquete</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># convierte en un objeto de red</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(tsc_rd, </span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>                           <span class="at">directed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Define la frecuencia de interacción</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co"># como el peso del vínculo entre</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co"># los dos personajes</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(g)<span class="sc">$</span>weight <span class="ot">&lt;-</span> tsc_rd<span class="sc">$</span>freq</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Crea la visualización de la red</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(networkD3)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="fu">simpleNetwork</span>(tsc_rd, </span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>              <span class="at">fontSize =</span> <span class="dv">14</span>, </span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>              <span class="at">opacity=</span><span class="dv">1</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="forceNetwork html-widget html-fill-item" id="htmlwidget-4f0aea16ed3acfa4e13d" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-4f0aea16ed3acfa4e13d">{"x":{"links":{"source":[3,10,12,16,0,4,5,10,12,14,16,3,3,12,17,17,18,2,14,0,3,16,18,0,1,3,6,13,16,17,19,12,3,9,20,0,3,10,12,7,9,11,8,15],"target":[0,0,0,0,3,3,3,3,3,3,3,4,5,6,6,7,8,9,9,10,10,10,11,12,12,12,12,12,12,12,12,13,14,14,15,16,16,16,16,17,18,18,20,20],"value":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"colour":["#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666"]},"nodes":{"name":["BUBY","CARMELA","CORO DE VIEJOS EXTRAÑOS","DIONISIO","DON ROSARIO","DON SACRAMENTO","EL ANCIANO MILITAR","EL CAZADOR ASTUTO","EL EXPLORADOR","EL GUAPO MUCHACHO","EL ODIOSO SEÑOR","EL ROMÁNTICO ENAMORADO","FANNY","LAS TRES","MADAME OLGA","OTROS","PAULA","SAGRA","TODOS","TRUDY","UNOS"],"group":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"nodesize":[8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8]},"options":{"NodeID":"name","Group":"group","colourScale":"d3.scaleOrdinal(['#3182bd'])","fontSize":14,"fontFamily":"serif","clickTextSize":35,"linkDistance":50,"linkWidth":"'1.5px'.toString()","charge":-30,"opacity":1,"zoom":false,"legend":false,"arrows":false,"nodesize":true,"radiusCalculation":"d.nodesize","bounded":false,"opacityNoHover":1,"clickAction":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>El sociograma anterior representa de forma esquemática los vínculos entre los personajes. Podemos observar distintos patrones de conexión entre ellos. Algunos solo interactúan con otro, como “El cazador astuto”. Otros se destacan por vincularse con muchos, como Fanny. Además, hay aquellos que conectan un grupo de personajes con otro, como Dionisio o Madame Olga. Cuando representamos las interacciones bajo una forma de red, salta a la vista la estructura de la obra. Emergen grupos muy densos, como el representado por Dionisio, Paula, Buby y Fanny, y otros periféricos, como las tres muchachasm el cazador astuto y el anciano militar.</p>
<section id="protagonismo-como-atributo-de-la-red" class="level3">
<h3 class="anchored" data-anchor-id="protagonismo-como-atributo-de-la-red">Protagonismo como atributo de la red</h3>
<p>Si os pregunto, ¿cuál es el personaje más importante en la obra? ¿Qué responderíais? Si conocéis bien la obra seguramente elegiríais entre Dionisio y Paula. No obstante, ¿cómo podemos medir el protagonismo de un personaje? Además, ¿a qué tipo de protagonismo nos referimos? ¿Al número de palabras que pronuncia? ¿A la cantidad de personajes con los que interactúa? ¿A la cantidad de veces que es mencionado por otros personajes?</p>
<p>En la teoría de redes, el protagonismo de un nodo puede medirse a través de distintas métricas de centralidad <span class="citation" data-cites="wasserman1994">(<a href="#ref-wasserman1994" role="doc-biblioref">Wasserman y Faust 1994</a>)</span>. Dichas técnicas permiten evaluar diferentes formas de influencia que cada personaje ejerce en la red. Por ejemplo, si miramos solo el número de personajes con quien habla cada uno, podríamos decir que Fanny es la más importante. No obstante, si ponderamos todas las formas posibles de interacción, queda clara la centralidad de Dionisio en la obra. El esquema abajo muestra la anatomía de una red social y los elementos estructurales que determinan las métricas de centralidad más comunes.</p>
<p><img src="anatomy_social.png" class="img-fluid"></p>
<p><br></p>
<p>Aquí nos concentraremos en siete métricas de centralidad que nos permiten evaluar el protagonismo de los personajes en la red de diálogo. Estas son:</p>
<ul>
<li><p><strong>Degree</strong>: mide el número de conexiones que tiene un nodo con otros nodos. Fanny aquí es la reina, puesto que interactúa con ocho personajes distintos.</p></li>
<li><p><strong>Closeness</strong>: mide la distancia promedio de un nodo a todos los demás nodos.</p></li>
<li><p><strong>Betweenness</strong>: mide la cantidad de veces que un nodo actúa como intermediario en la red. Dionisio, Fanny y Madame Olga son ejemplos en este sentido.</p></li>
<li><p><strong>Eigenvector</strong>: mide la importancia de un nodo en función de la importancia de sus vecinos. Si un personaje interactúa con otro que también es importante, su importancia aumenta. Por ejemplo, el grupo formado por Dionisio, Paula, Buby, Fanny y “El odioso señor” revela personajes con un alto valor en esa medida.</p></li>
<li><p><strong>PageRank</strong>: se trata de una medida basada en la anterior, pero que considera quién se dirige a quién. Por ejemplo, si una persona sigue a Taylor Swift en Twitter, no significa nada para su visibilidad en las redes. No obstante, si la cantante decide seguir a esta persona, su peso se verá aumentado de forma clara.</p></li>
<li><p><strong>Hub</strong>: mide la cantidad de conexiones que tiene un nodo con otros nodos importantes.</p></li>
<li><p><strong>Authority</strong>: mide la cantidad de conexiones recibidas de otros nodos de tipo <strong>hub</strong> en la red. Una persona que se dirije a otros nodos influyentes posee un enorme potencial de difusión de su mensaje.</p></li>
</ul>
<p>En el código abajo, visualizamos la posición de cada uno de los personajes de la obra según las distintas métricas mencionadas:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga el paquete tenet</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tenet)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Genera el gráfico de centralidad</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plotNetCentrality</span>(g)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="sombreros_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="1056"></p>
</figure>
</div>
</div>
</div>
<p>Como podemos observar, se confirma el protagonismo de Dionisio y Paula. No obstante, otros personajes también se destacan en distintas métricas. Por ejemplo, Fanny es la que más conexiones tiene y actúa como intermediaria. Como hemos visto, “El odioso señor” por su posición en la red y el contacto con otros persojanes de destaque, se sitúa bien en métricas como autoridad, <em>eigenvector</em> y <em>closeness</em>.</p>
</section>
<section id="comunidades-de-personajes" class="level3">
<h3 class="anchored" data-anchor-id="comunidades-de-personajes">Comunidades de personajes</h3>
<p>La estructura de interacción de los personajes también permite identificar de módulos o grupos de personaje que presentan una mayor densidad de interacciones entre sí que con el resto de la red. En la teoría de redes, estos grupos se conocen como comunidades. En el código abajo, identificamos las comunidades de personajes en <em>Tres sombreros de copa</em>:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Identifica las comunidades</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>wb <span class="ot">&lt;-</span> <span class="fu">cluster_walktrap</span>(g)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Atribuye la membresía </span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co"># a los personajes</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(g)<span class="sc">$</span>membership <span class="ot">&lt;-</span> wb<span class="sc">$</span>membership</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepara la visualización</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>dd <span class="ot">&lt;-</span> <span class="fu">igraph_to_networkD3</span>(g, </span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>                          <span class="at">group =</span> <span class="fu">V</span>(g)<span class="sc">$</span>membership)</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Crea la visualización</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="fu">forceNetwork</span>(<span class="at">Links =</span> dd<span class="sc">$</span>links,</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>             <span class="at">Nodes =</span> dd<span class="sc">$</span>nodes, </span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>             <span class="at">Source =</span> <span class="st">'source'</span>, </span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>             <span class="at">Target =</span> <span class="st">'target'</span>, </span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>             <span class="at">NodeID =</span> <span class="st">'name'</span>, </span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>             <span class="at">Group =</span> <span class="st">'group'</span>,</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>             <span class="at">fontSize =</span> <span class="dv">18</span>,</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>             <span class="at">opacity=</span><span class="dv">1</span>, </span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>             <span class="at">opacityNoHover =</span> <span class="fl">0.25</span>, </span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>             <span class="at">bounded =</span> T)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="forceNetwork html-widget html-fill-item" id="htmlwidget-a84cc473716a60053b16" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-a84cc473716a60053b16">{"x":{"links":{"source":[0,1,2,3,4,6,2,7,5,3,1,0,0,8,2,8,9,7,10,4,0,3,9,8,11,13,3,4,12,14,0,2,0,15,16,0,2,1,4,17,15,18,20,19],"target":[4,4,4,4,0,0,0,0,0,0,0,5,6,12,12,17,19,15,15,1,1,1,18,2,2,2,2,2,2,2,2,13,7,7,20,3,3,3,3,8,9,9,16,16],"colour":["#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666"]},"nodes":{"name":["DIONISIO","EL ODIOSO SEÑOR","FANNY","PAULA","BUBY","DON ROSARIO","DON SACRAMENTO","MADAME OLGA","SAGRA","TODOS","CORO DE VIEJOS EXTRAÑOS","CARMELA","EL ANCIANO MILITAR","LAS TRES","TRUDY","EL GUAPO MUCHACHO","UNOS","EL CAZADOR ASTUTO","EL ROMÁNTICO ENAMORADO","EL EXPLORADOR","OTROS"],"group":[6,6,5,6,6,6,6,3,4,1,7,5,5,5,5,3,2,4,1,8,2]},"options":{"NodeID":"name","Group":"group","colourScale":"d3.scaleOrdinal(d3.schemeCategory20);","fontSize":18,"fontFamily":"serif","clickTextSize":45,"linkDistance":50,"linkWidth":"function(d) { return Math.sqrt(d.value); }","charge":-30,"opacity":1,"zoom":false,"legend":false,"arrows":false,"nodesize":false,"radiusCalculation":" Math.sqrt(d.nodesize)+6","bounded":true,"opacityNoHover":0.25,"clickAction":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Cada comunidad se representa por un color distinto. El algoritmo ha identificado ocho comunidades distintas. La primera conformada por Dionisio, Pauloa, Buby, El odioso señor, Don Sacramento y Don Rosario. La segunda por Fanny, las tres muchachas y El anciano militar. La tercera por Sagra y El cazador astuto. La cuarta por Madame Olga y El guapo muchacho. La quinta por todos y “El romántico enamorado. La sexta por”Unos” y “Otros”. Las dos últimas son comunidades de un solo personaje: El coro de viejos extraños y El explorador.</p>
</section>
</section>
<section id="temas-y-redes" class="level2">
<h2 class="anchored" data-anchor-id="temas-y-redes">Temas y redes</h2>
<p>Una vez analizada la conectividad de los personajes, a partir de ahora exploraremos dos métodos de modelado de tópicos. El primero, sin redes, se basa en el modelo LDA (Latent Dirichlet Allocation) para identificar los tópicos más relevantes en el diálogo de la obra. Consiste en agrupar palabras que aparecen juntas en el texto y que, por lo tanto, pueden ser consideradas como parte de un mismo tema. El segundo, a partir de redes, se basa en la extracción de tópicos a partir de la estructura de interacción entre los personajes. Como en el ejemplo de los personajes, se identifican comunidades de palabras que presentan una mayor densidad de interacciones entre sí que con el resto de la red.</p>
<section id="modelado-de-tópicos-sin-redes" class="level3">
<h3 class="anchored" data-anchor-id="modelado-de-tópicos-sin-redes">Modelado de tópicos sin redes</h3>
<p>El LDA corresponde a una técnica de aprendizaje no supervisado (sin la necesidad de una clasificación previa por parte del investigador) que permite identificar los tópicos más relevantes en un conjunto de documentos. A partir de la matriz de términos-documentos, el modelo asigna probabilidades a cada palabra de pertenecer a un tópico. Se llama “latente” justamente porque trata de identificar temas que no están explícitos en el texto. La combinación de palabras sirve de insumo para que el analista pueda inferir de qué trata el tema en concreto.</p>
<p>El código abajo lleva a cabo un análisis LDA para identificar los tópicos más relevantes en los diálogos de <em>Tres sombreros de copa</em>:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga los paquetes</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quanteda)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(topicmodels)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Extrae los tokens</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>tk <span class="ot">&lt;-</span> <span class="fu">tokens</span>(tsc_d<span class="sc">$</span>dialogo, </span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">remove_punct =</span> <span class="cn">TRUE</span>, </span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">remove_numbers =</span> <span class="cn">TRUE</span>, </span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">remove_symbols =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>tk <span class="ot">&lt;-</span> <span class="fu">tokens_tolower</span>(tk)</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>tk <span class="ot">&lt;-</span> <span class="fu">tokens_remove</span>(tk, </span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">c</span>(<span class="fu">stopwords</span>(<span class="st">"es"</span>),</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"don"</span>,</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"usted"</span>,</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"hacer"</span>,</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"va"</span>,</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"voy"</span>,</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"si"</span>))</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Crea la matriz de términos-documentos</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>dtm <span class="ot">&lt;-</span> <span class="fu">dfm</span>(tk)</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Convierte en el formato requerido</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>dtm <span class="ot">&lt;-</span> <span class="fu">convert</span>(dtm, </span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>               <span class="at">to =</span> <span class="st">"topicmodels"</span>) </span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Crea 20 tópicos</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>ld <span class="ot">&lt;-</span> <span class="fu">LDA</span>(dtm, <span class="at">k =</span> <span class="dv">20</span>)</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Obtiene los 50 términos más</span></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a><span class="co"># importantes de cada tópico</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>d1 <span class="ot">&lt;-</span> <span class="fu">terms</span>(ld, <span class="dv">50</span>)</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualiza los resultados</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reactable)</span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a><span class="fu">reactable</span>(d1, <span class="at">resizable=</span>T, <span class="at">sortable =</span> F)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="reactable html-widget html-fill-item" id="htmlwidget-d0eba6d9e01fc289b757" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-d0eba6d9e01fc289b757">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"Topic 1":["verdad","buby","bailar","negro","caballero","mala","suerte","puedo","muchachas","lindo","nunca","compañero","siempre","paula","dentro","difícil","demasiado","vida","buena","habitación","quedado","artistas","fácil","novios","enamorarme","viejos","extraños","coro","regalar","divertido","dinero","muchacha","malabarista","ah","sombrero","allá","después","bonita","dormir","sabe","padres","cuarto","quieren","podré","debía","gana","negros","aborrezco","crees","aburrido"],"Topic 2":["dionisio","cama","puerta","debajo","ve","ojos","dice","dos","pausa","levanta","ahora","mira","paula","vez","parece","cierra","entro","sienta","hacia","hace","actitud","cada","da","noche","foro","después","habitación","misma","cabeza","dormido","conejos","sigue","izquierda","oh","mutis","acercándose","aquí","espejo","vacía","manta","luz","oye","buby","bien","haber","tampoco","mar","lado","pues","sombreros"],"Topic 3":["muchas","gracias","dicho","bolsillo","bueno","medias","puede","ahora","vez","par","nadie","saca","dionisio","dejado","quiere","señorita","siempre","bota","aún","siquiera","suba","regala","raya","sé","alegría","enfadada","regale","entonces","mira","sofá","puesto","dentro","ir","pronto","tres","casa","quiera","puedo","paz","cierto","molestado","conmigo","rato","flores","ligas","sacando","estira","ramo","dejadme","joven"],"Topic 4":["tiempo","malabarista","da","así","anda","dionisio","vamos","paula","tan","hace","siempre","bonita","grosero","rabiar","fastidie","arreglo","puertas","juntos","demasiados","echa","ser","dos","iremos","mismo","entra","sombrero","abrir","verdad","puede","quiere","simpático","cuarto","boda","duerme","pone","vez","adiós","abras","hacerle","galante","diez","céntimos","tía","malo","marcharse","tener","trabajar","plátanos","brazo","iglesia"],"Topic 5":["siempre","suelo","señorita","dionisio","sólo","puerta","personas","caen","paquetes","claro","noche","azul","sombreros","tan","caballero","señora","familia","frente","huevos","permite","virtuosa","toco","aguas","bahía","decentes","fritos","irse","mañana","dice","llevar","da","tira","aquí","rosario","paula","señor","izquierda","sofá","cornetín","serenata","toselli","café","aburre","tocar","cosas","van","coge","chicas","recoger","vuelta"],"Topic 6":["quiero","monaguillos","ahí","paula","cruz","salir","niño","necesito","ver","izquierda","amanecer","saber","vamos","haciendo","mañana","verás","gran","van","toninini","hombre","dionisio","negro","así","feliz","cama","da","bien","cabeza","enamorado","sombrero","blanco","levanta","borracho","día","luego","oh","señor","aquí","dice","serio","casar","hacia","debajo","alegre","mira","pronto","trudy","romántico","explorador","habitación"],"Topic 7":["dos","éste","rosario","debió","sola","copa","hace","importa","poner","dionisio","da","mesita","niño","cromos","pues","sombreros","cabeza","puerta","vaca","salamandra","oído","uniforme","libros","cadáveres","hotel","hoteles","habitación","primera","ratones","cama","así","caballero","foro","armario","noche","balcón","lámpara","escena","calle","sombrero","tan","ve","montaña","poquito","saca","huésped","favor","ir","falta","aparato"],"Topic 8":["pues","entonces","hace","balcón","mejor","lucecitas","bota","mañana","así","roja","hago","caso","siempre","tres","puerto","huéspedes","papá","malabares","ven","vino","mamá","debuta","music-hall","nuevo","ve","aún","ésta","blancas","todavía","tampoco","acabaron","inicial","pintada","lápiz","ratito","parapapá","mundo","veo","vista","noche","sombreros","solo","ah","visto","hoop","verdad","perdone","nunca","verá","ninguna"],"Topic 9":["claro","siempre","agua","puedo","dé","laralí","gustan","beso","ratones","ahora","tan","pasados","pozo","señorita","niño","hizo","rico","bombones","hace","paula","caramba","iré","casi","pin","acabó","conejos","consigo","dar","provincia","bien","conoce","aquel","quiere","nunca","toda","tener","permite","mismo","mano","pasa","saca","bolsillo","calor","historia","asomó","cayó","tragarse","sable","llorando","jamón"],"Topic 10":["sé","mañana","sabes","novia","sabía","así","paula","tan","adoro","arena","junto","mar","ay","iremos","cangrejos","piri","verdad","pasa","importa","dionisio","bien","mejor","veo","gusta","tampoco","sólo","casar","jugar","tener","playa","volcanes","casarse","quiero","dar","temprano","quieres","sabe","maravilloso","buby","ahora","hace","dos","nunca","dentro","agua","alegría","vida","viendo","pasado","gritos"],"Topic 11":["rosario","dionisio","novia","niza","retrato","caballeros","casan","día","luego","cada","años","ir","campo","cartera","novio","boda","casa","amor","siete","llevó","posible","trigo","mañana","después","malo","tener","fin","claro","hace","así","aún","mismo","provincia","hotel","magnífico","tranquilo","tirar","nueva","quitó","comedor","sala","hija","casar","todas","horas","oh","casados","teléfono","casas","cocina"],"Topic 12":["dionisio","quién","paula","debe","teléfono","sacramento","puerta","ser","dentro","timbre","junto","ustedes","pasa","calle","cabeza","entra","fanny","salí","auricular","habla","señores","aún","aquí","hacia","abajo","suena","dolía","izquierda","dormir","ahora","quieren","señor","quiere","podía","intentando","eh","nuevamente","compañero","noche","buby","mano","pues","tres","hace","bien","puede","sucede","padre","comunicación","margarita"],"Topic 13":["izquierda","puerta","militar","fanny","anciano","bailando","escena","buby","muchacho","quizá","lleva","cazador","mutis","hace","personajes","astuto","cruces","brazo","baila","paula","olga","madame","señorita","sagra","telón","entran","botellas","música","cogidos","conejos","dos","dionisio","siempre","odioso","señor","momentos","mano","van","encantada","tres","copa","trudy","carmela","guapo","segundo","siguen","cuatro","paquetes","alegres","abierta"],"Topic 14":["dionisio","abre","dentro","chaquet","mano","ahora","pan","sale","mejor","mete","aquí","habitación","puerta","mientras","copa","hijo","silencio","pronto","bonita","siete","negro","cama","así","sombrero","bolsillo","mire","madera","bandera","camisa","biombo","pantalones","entra","habla","cornetín","tras","debajo","pone","izquierda","hace","sombreros","rosario","dos","detrás","sombrerera","huéspedes","toda","pijama","fíjese","criadas","quiero"],"Topic 15":["buby","quiere","dionisio","dios","paula","después","molesta","maravilloso","cae","visto","foro","ahora","puerta","nunca","sombreros","suelo","parece","cristales","chico","vuelve","fuerte","coge","alto","manera","acerca","contigo","bonito","mirando","ir","cama","tras","junto","rosario","da","telón","déjelo","través","lejos","verdad","papel","grito","pensado","trabajo","ballet","barton","debutamos","llama","jugando","sentarse","meterse"],"Topic 16":["señor","aquí","frío","oh","buby","bien","conmigo","odioso","marido","devuélvame","londres","déjeme","iremos","dinero","allí","gusta","digo","enfadado","van","siéntese","maldita","mujeres","llenos","trigo","gente","puertas","dado","canallas","ay","siempre","deja","paula","aire","nunca","junto","gritando","dar","hablan","felices","sólo","dirige","ensayaba","peleando","amenazador","parecen","divertida","barba","monsieur","durand","consentido"],"Topic 17":["dinero","paula","llevaba","billetes","cartera","cuatro","así","sé","antonini","ah","ahora","dice","tren","pena","sentándose","vale","muchachas","dos","ser","caso","digo","hablar","mal","oui","desgraciada","figúrese","disgusto","tan","mejor","puesto","bien","balcón","aquí","lado","perdido","mira","equipaje","mientras","falta","sienta","grande","nombre","teatro","días","miedo","extrañado","fingiendo","cansado","cuantos","necesitamos"],"Topic 18":["niña","pobre","triste","ser","seis","carraca","casa","noches","muerto","pasear","buenas","artista","bajo","lluvia","junto","quieres","cogiendo","negro","niño","cerca","hablando","gente","conozco","amigos","linchar","preciso","además","bohemio","demás","caballero","aquí","allí","sofá","tan","sacramento","sola","podría","supiese","mismo","sonar","hombres","llora","viendo","cuarto","buenos","adiós","music-hall","coge","champaña","distraído"],"Topic 19":["vaya","cómo","años","señor","idiota","aquí","ande","siete","pausa","domingos","retrato","quizá","pasará","olor","perfil","tonto","así","oh","dionisio","pequeña","toda","señora","sabe","ahí","cayó","alegría","comprar","hablando","abrimos","hermanos","bicicleta","niños","van","hará","pesado","dedo","piano","mueren","ratos","perdió","locomotora","pequeños","gesto","cena","tocando","tocará","smith","charlando","dientes","población"],"Topic 20":["vamos","cuarto","señorita","rosario","creo","amor","habitación","abrir","aparato","biombo","adiós","hace","siempre","viene","hora","oiga","levantándose","botella","dionisio","paula","mismo","sombrero","juego","madame","olga","tras","mano","teléfono","gusta","acto","barbas","dicho","dejó","aún","encima","imposible","cuerpo","acuerdo","micrófono","pulgas","cinco","mujer","demás","café","cobarde","dejar","regalarle","mañana","puedo","desconcertado"]},"columns":[{"id":"Topic 1","name":"Topic 1","type":"character"},{"id":"Topic 2","name":"Topic 2","type":"character"},{"id":"Topic 3","name":"Topic 3","type":"character"},{"id":"Topic 4","name":"Topic 4","type":"character"},{"id":"Topic 5","name":"Topic 5","type":"character"},{"id":"Topic 6","name":"Topic 6","type":"character"},{"id":"Topic 7","name":"Topic 7","type":"character"},{"id":"Topic 8","name":"Topic 8","type":"character"},{"id":"Topic 9","name":"Topic 9","type":"character"},{"id":"Topic 10","name":"Topic 10","type":"character"},{"id":"Topic 11","name":"Topic 11","type":"character"},{"id":"Topic 12","name":"Topic 12","type":"character"},{"id":"Topic 13","name":"Topic 13","type":"character"},{"id":"Topic 14","name":"Topic 14","type":"character"},{"id":"Topic 15","name":"Topic 15","type":"character"},{"id":"Topic 16","name":"Topic 16","type":"character"},{"id":"Topic 17","name":"Topic 17","type":"character"},{"id":"Topic 18","name":"Topic 18","type":"character"},{"id":"Topic 19","name":"Topic 19","type":"character"},{"id":"Topic 20","name":"Topic 20","type":"character"}],"sortable":false,"resizable":true,"dataKey":"37ab1163cf1436a351afd358c79ee645"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>La tabla presenta los palabras por orden de importancia en cada uno de los 20 tópicos generados automáticamente. Se puede ver que muchas palabras se repiten en varios temas, a menudo con un peso distinto en cada uno de ellos. Por ejemplo, “sombreros” y “Dionisio” aparecen en los dos primeros tópicos, aunque en posiciones distintas.</p>
<p>La interpretación de los resultados de un modelo LDA es un proceso iterativo y cualitativo. No hay una regla fija para determinar cuántos tópicos son los más adecuados. En este caso, hemos optado por 20 tópicos, pero el investigador puede ajustar este número según sus objetivos de investigación. Además, dar nombre a cada uno de ellos no resulta fácil, pues, como hemos visto, las mismas palabras pueden repetirse, dificultando su asociación con un tema concreto.</p>
<p>No obstante, mi experiencia (y de otros colegas) con el LDA resulta un poco decepcionante. Aunque nos divida las palabras en grupos o categorías, el proceso como un todo resulta muy poco informativo. Dar el salto de los resultados del LDA hacia una interpretación sustantiva en los textos suele ser un proceso doloroso y frustrante. Doloroso por los malabarismos que uno tiene que hacer para convertir las categorías en algo funcional para el análisis. Frustrante por los resultados como mucho subóptimos del algoritmo para auxiliar la codificación temática y el análisis de contenido.</p>
</section>
<section id="extracción-de-tópicos-a-partir-de-redes" class="level3">
<h3 class="anchored" data-anchor-id="extracción-de-tópicos-a-partir-de-redes">Extracción de tópicos a partir de redes</h3>
<p>Puesto que el LDA, como dijimos, nos ofrece resultados poco satisfactorios, exploraremos una alternativa que emplea redes para identificar los temas presentes en los diálogos. En este caso, identificaremos los temas a partir de redes de palabras. Se considera que dos palabras están conectadas si aparecen juntas en el texto. La red resultante permite identificar comunidades de palabras que presentan una mayor densidad de interacciones entre sí que con el resto de la red. En el código abajo, se extraen los tópicos a partir de la estructura de interacción entre las palabras:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crea una base de datos</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co"># que irá acumular las coocurrencias</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Para cada diálogo</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(tk)){</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Obtiene las palabras</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  ky <span class="ot">&lt;-</span> <span class="fu">as.character</span>(tk[[i]])</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Si solo hay una palabra</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># para al siguiente diálogo</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">length</span>(ky) <span class="sc">&lt;</span> <span class="dv">2</span>){</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">next</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Genera las coocurrencias</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>  d1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">from =</span> ky[<span class="sc">-</span><span class="fu">length</span>(ky)], <span class="at">to =</span> ky[<span class="sc">-</span><span class="dv">1</span>])</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Establece el peso</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>  d1<span class="sc">$</span>weight <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Acumula los resultados</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>  res <span class="ot">&lt;-</span> <span class="fu">rbind</span>(res, d1)</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Simplifica la red para obtener</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a><span class="co"># la frecuencia única de las coocurrencias</span></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(res, </span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>                           <span class="at">directed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">simplify</span>(g, </span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>              <span class="at">remove.multiple =</span> <span class="cn">FALSE</span>)</span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Crea una nueva base de datos</span></span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a><span class="co"># con la red simplificada</span></span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>rea <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">as_data_frame</span>(g)</span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Agrega las coocurrencias por</span></span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a><span class="co"># diada de palabras</span></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>ag <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(weight <span class="sc">~</span> from <span class="sc">+</span> to, </span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> rea, </span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>                <span class="at">FUN =</span> sum)</span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a><span class="co"># Elimina los casos en los que</span></span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a><span class="co"># solo hay una coocurrencia</span></span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>ag <span class="ot">&lt;-</span> ag[ag<span class="sc">$</span>weight <span class="sc">&gt;</span> <span class="dv">1</span>,]</span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a><span class="co"># convierte en un gráfico no direccional</span></span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(ag, </span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a>                           <span class="at">directed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a><span class="co"># Establece la frecuencia como</span></span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a><span class="co"># el peso</span></span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a><span class="fu">E</span>(g)<span class="sc">$</span>weight <span class="ot">&lt;-</span> ag<span class="sc">$</span>weight</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Hemos creado una red <code>g</code> no dirigida (que no considera el orden) a partir de las coocurrencias de palabras en los diálogos. Contiene 595 pares únicos de palabras que se han mencionado juntas en más de una ocasión. A continuación, calcularemos las centralidades <code>betwenness</code> y <code>degree</code> para identificar las palabras más importantes en la red y permitir que filtremos los resultados para facilitar su visualización:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcula las centralidades de red</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co"># betweenness y degree</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>bt <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">betweenness</span>(g),<span class="dv">3</span>)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>d1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">word=</span><span class="fu">names</span>(bt), </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">betweenness=</span><span class="fu">round</span>(bt))</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>bt <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">degree</span>(g)</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>d2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">word=</span><span class="fu">names</span>(bt), </span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>                 <span class="at">degree=</span>bt)</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>d3 <span class="ot">&lt;-</span> <span class="fu">merge</span>(d2, d1, <span class="at">by=</span><span class="st">"word"</span>)</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>d3 <span class="ot">&lt;-</span> d3[<span class="fu">order</span>(d3<span class="sc">$</span>betweenness, </span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>               <span class="at">decreasing =</span> T),]</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reactable)</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a><span class="fu">reactable</span>(d3, <span class="at">resizable=</span>T)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="reactable html-widget html-fill-item" id="htmlwidget-3ef11e4c275740713e6e" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-3ef11e4c275740713e6e">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"word":["dionisio","paula","buby","mañana","aquí","rosario","aire","sombreros","puerta","sale","feliz","nunca","siempre","así","sienta","vuelve","ahora","vamos","sigue","quiero","verdad","dicho","izquierda","ser","puede","ve","caso","copa","dejó","hacia","dentro","llevaba","balcón","tres","ver","mesita","cartera","hace","retrato","señor","dos","negro","habitación","noche","oh","cama","sofá","vez","mira","pues","claro","junto","bolsillo","puedo","sombrero","malva","fanny","dinero","tan","sala","tras","cada","mismo","quién","debe","mirando","señorita","casan","bien","misma","pronto","suelo","coro","lucecitas","novia","pasear","siete","teléfono","vivan","caballeros","entra","debajo","provincia","rico","años","azul","bailando","bajo","biombo","bonita","chaquet","coge","difícil","farolas","gran","hacerle","hago","ir","iremos","lado","levanta","lindo","llevar","llevó","malabares","mano","muchachas","muchas","mutis","nuevo","ojos","pijama","poner","puesto","quiere","saca","solos","tener","timbre","viejos","anciano","sabes","adoro","niño","virtuosa","entro","pobre","niña","aquel","triste","ahogó","quedó","solo","beso","cuarto","da","hotel","coser","pasa","pozo","número","éste","después","habla","toda","chico","necesito","dé","amor","cabeza","pan","pausa","leche","martiriza","vaca","mujer","café","cola","gustan","salir","ahí","favor","huevos","olga","pálida","pasados","sólo","brazo","caballero","cogidos","guapo","romántico","trudy","aguas","arena","blancos","buenas","buenos","calle","cazador","cruces","dormir","escena","hoteles","llenos","luz","mala","monsieur","papá","personas","pin","pintada","segundo","seis","telón","abajo","aborrezco","abra","abre","abrigo","abrir","aburrido","acabó","acordar","actitud","acto","adiós","agradable","agua","ah","ahorros","alegre","allá","almohada","aman","amanecer","amigo","amigos","ampare","ande","antonini","apaga","aparato","aprender","armario","asoma","asomó","astuto","auricular","bahía","bailar","baja","ballet","barbas","barbuda","barton","billetes","bocadillo","bohemio","bohemios","bombones","bonaparte","bonito","bota","brazos","bufanda","caballitos","cae","caen","camareros","camino","campos","cangrejos","capital","cara","cariñosas","carmela","carraca","casa","casados","casar","casarse","casas","cayó","cena","céntimos","centro","cerca","cerilla","cerrada","cerrados","cerrar","cien","cierra","cocodrilo","cogiendo","colcha","comedor","comer","cómo","compañero","comprenderlo","comprendes","comunicación","comunión","conejos","confetti","conmigo","conocía","consigo","contentos","contigo","corre","cortinas","costado","creciendo","crees","cristales","cromos","cruz","cruza","cuadros","cuantos","cuartos","cuatro","cura","cursi","dar","deben","debes","debieran","debió","debuta","debutamos","decentes","decoración","dejadme","demás","dése","devuélvame","días","dice","diez","dios","dolía","duelen","duerme","durand","emborracharme","empujón","enamorado","enamorarme","encantador","enciende","encima","entonces","escaparse","esconde","española","ésta","explorador","extraños","fácil","falta","familia","fiesta","fijándose","flores","foro","frente","frío","fritos","furioso","gabán","gato","gente","gesto","gracias","grito","guantes","gusta","haber","hablando","hablaremos","hacen","haga","hizo","hombres","hombro","honradas","hoop","horas","horriblemente","idiota","igual","importa","imposible","inicial","juego","juegos","lápiz","lateral","lejos","levantarse","libros","linchar","linda","lista","llama","lleva","llora","lluvia","londres","madame","madera","maldita","maleta","maletas","malo","mamá","manteca","máquina","mar","maravilloso","marcha","marido","media","mejor","mete","mientras","migas","militar","millón","modestos","molesta","momentos","monaguillos","morir","muchacho","muerte","music-hall","música","nadie","napoleón","necesitamos","ninguna","niza","noches","nombre","novio","nuevamente","odioso","oído","oiga","olor","orden","oro","oscuro","padre","pálidos","pantalones","papel","papeles","paquetes","par","parece","paredes","partenaire","pasado","pasaremos","paseando","paz","pena","pequeña","pequeño","perlas","permite","personajes","pescador","pescar","piano","piernas","pies","playa","pocos","podía","podrá","podré","pondrán","pone","posible","preciso","preparado","primer","primera","prisa","puertas","puerto","pulgas","pulseras","queda","querido","quieren","quieres","quiosco","quitándose","quizá","rabiar","ramo","rásqueme","rato","realmente","regale","reloj","retratos","ridículo","rincón","roja","rosa","sabe","saber","sabía","sable","salamandra","salen","salga","salí","seguida","sentándose","serenata","siéntese","siguen","simpático","siquiera","smith","sobra","sonando","suba","suena","suerte","tampoco","teatro","tenedor","término","tiempo","tierno","tiesos","tira","tiró","tocará","todas","toma","tonto","toselli","trabajo","tragarse","trapo","través","trigo","tristemente","tristes","unas","ustedes","vale","van","veces","ven","vena","veo","verás","viendo","vino","violenta","visto","volcanes","voluptuosidad","volverse","voz"],"degree":[31,15,13,9,5,7,2,6,10,3,3,5,9,6,5,3,8,5,5,7,4,3,6,6,2,3,3,4,2,6,8,3,4,4,3,2,2,8,4,6,5,5,4,4,4,4,2,3,4,5,4,4,4,4,4,2,5,4,4,3,3,3,3,2,4,2,3,3,3,3,3,3,2,2,2,2,2,2,2,3,4,4,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,2,3,2,2,2,2,2,2,2,2,2,3,3,2,5,2,3,3,4,3,3,2,2,3,3,2,4,2,2,2,2,3,2,3,3,2,2,2,2,3,3,3,3,2,2,2,3,2,2,2,2,2,2,2,2,2,2,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"betweenness":[28131,6913,6805,6114,5950,5317,4698,4551,4172,3890,3774,3491,3348,3314,3284,3202,3154,3136,2610,2478,2450,2438,2372,2137,2118,2056,2039,1914,1904,1890,1836,1808,1784,1649,1643,1638,1555,1551,1493,1382,1379,1379,1378,1377,1376,1374,1370,1358,1326,1294,1232,1116,1105,1105,1105,1100,888,831,831,830,830,820,789,645,607,584,562,560,555,555,555,555,554,554,554,554,554,554,554,520,491,483,284,280,278,278,278,278,278,278,278,278,278,278,278,278,278,278,278,278,278,278,278,278,278,278,278,278,278,278,278,278,278,278,278,278,278,278,278,278,276,171,150,122,116,99,91,80,63,50,34,34,31,26,24,21,21,18,18,18,17,16,15,14,12,9,9,8,7,7,7,7,6,6,6,5,4,4,4,4,3,3,3,3,3,3,3,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"columns":[{"id":"word","name":"word","type":"character"},{"id":"degree","name":"degree","type":"numeric"},{"id":"betweenness","name":"betweenness","type":"numeric"}],"resizable":true,"dataKey":"3b5b71dedbf709317ae1b741a8b92e25"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>El paso siguiente consiste en crear comunidades de palabras según su posición en la red. Para ello, eliminaremos las palabras con <em>betweenness</em> igual a cero. Luego, utilizaremos el algoritmo de Louvain, para identificar las comunidades existentes en la red. Finalmente, convertimos los resultados en una base de datos que nos posibilita identificar las palabras más importantes en cada comunidad:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Para facilitar la visualización,</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co"># se eliminan las palabras con </span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># un grado menor a 1 en la estadística</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># betweenness</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>li <span class="ot">&lt;-</span> d3<span class="sc">$</span>word[d3<span class="sc">$</span>betweenness <span class="sc">&lt;</span> <span class="dv">1</span>]</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>ga <span class="ot">&lt;-</span> g <span class="sc">-</span> li</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Crea un cluster de palabras</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="co"># según la conectividad de red</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>wc <span class="ot">&lt;-</span> <span class="fu">cluster_louvain</span>(ga)</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Atribuye la membresía a los </span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="co"># grupos</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(ga)<span class="sc">$</span>membership <span class="ot">&lt;-</span> wc<span class="sc">$</span>membership</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Fusiona los datos de membresía</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a><span class="co"># a cada cluster con los datos</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a><span class="co"># de las palabras</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>da <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">as_data_frame</span>(ga, </span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>                            <span class="at">what =</span> <span class="st">"vertices"</span>)</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(da)[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="st">"word"</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>d3 <span class="ot">&lt;-</span> <span class="fu">merge</span>(d3, da, <span class="at">by=</span><span class="st">"word"</span>)</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Seleccion las 20 palabras</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a><span class="co"># con más peso en cada grupo</span></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>zz <span class="ot">&lt;-</span> d3 <span class="sc">|&gt;</span> </span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>      <span class="fu">arrange</span>(<span class="fu">desc</span>(betweenness)) <span class="sc">|&gt;</span></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(membership) <span class="sc">|&gt;</span></span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>      <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>) </span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a><span class="fu">reactable</span>(zz, <span class="at">resizable=</span>T)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="reactable html-widget html-fill-item" id="htmlwidget-c562b449b8944494ebc3" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-c562b449b8944494ebc3">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"word":["dionisio","puerta","izquierda","ve","hacia","dentro","balcón","habitación","mira","bolsillo","pronto","coro","siete","entra","años","bonita","lado","levanta","ojos","saca","aquí","aire","sombreros","copa","tres","dos","sombrero","suelo","lucecitas","coge","farolas","malabares","puesto","solos","dormir","pin","paula","sale","ahora","sigue","quiero","pues","claro","junto","fanny","dinero","mismo","misma","vivan","azul","chaquet","hago","muchachas","anciano","segundo","mañana","rosario","feliz","vamos","caso","ver","puedo","señorita","hacerle","ir","iremos","muchas","nuevo","sabes","adoro","virtuosa","habla","niño","pobre","niña","aquel","triste","ahogó","quedó","coser","pasa","pozo","martiriza","pálida","cartera","retrato","cama","tras","mirando","novia","debajo","biombo","poner","tener","siempre","así","vuelve","verdad","llevaba","hace","casan","caballeros","bailando","difícil","lindo","llevar","mano","mutis","buby","sienta","ser","puede","negro","oh","sofá","malva","tan","sala","debe","bien","gran","llevó","pijama","quiere","entro","buenos","amor","pausa","luz","cazador","beso","da","después","dé","aguas","mujer","olga","caballero","guapo","sólo","blancos","cabeza","vaca","cola","señor","vez","cada","quién","provincia","rico","toda","telón","romántico","trudy","solo","cuarto","hotel","número","éste","chico","necesito","brazo","cogidos","calle","escena","personas","nunca","dicho","dejó","mesita","noche","pasear","bajo","monsieur","gustan","huevos","pasados","salir","ahí","favor","pintada","pan","leche","café","papá","seis","hoteles","buenas","cruces","mala","teléfono","timbre","llenos","arena"],"degree":[31,10,6,3,6,8,4,4,4,4,3,2,2,4,2,2,2,2,3,2,5,2,6,4,4,5,4,3,2,2,2,2,2,2,2,2,15,3,8,5,7,5,4,4,5,4,3,3,2,2,2,2,2,3,2,9,7,3,5,3,3,4,3,2,2,2,2,2,3,2,2,3,5,3,4,3,3,2,2,2,2,2,2,2,2,4,4,3,2,2,4,2,2,2,9,6,3,4,3,8,3,3,2,2,2,2,2,3,13,5,6,2,5,4,2,2,4,3,4,3,2,2,2,2,3,2,3,3,2,2,3,4,3,2,2,3,2,2,2,3,2,3,2,2,6,3,3,2,3,2,2,2,2,2,3,2,2,3,2,2,2,2,2,2,2,2,5,3,2,2,4,2,2,2,2,2,2,2,2,2,2,3,2,2,2,2,2,2,2,2,2,2,2,2],"betweenness":[28131,4172,2372,2056,1890,1836,1784,1378,1326,1105,555,554,554,491,278,278,278,278,278,278,5950,4698,4551,1914,1649,1379,1105,555,554,278,278,278,278,278,1,1,6913,3890,3154,2610,2478,1294,1232,1116,888,831,789,555,554,278,278,278,278,276,1,6114,5317,3774,3136,2039,1643,1105,562,278,278,278,278,278,171,150,116,14,122,91,80,63,50,34,34,18,18,18,6,3,1555,1493,1374,830,584,554,483,278,278,278,3348,3314,3202,2450,1808,1551,560,520,278,278,278,278,278,278,6805,3284,2137,2118,1379,1376,1370,1100,831,830,607,555,278,278,278,278,99,1,7,7,1,1,26,21,15,8,1,5,3,2,2,3,1,7,6,4,1382,1358,820,645,284,280,12,1,2,2,31,24,21,17,16,9,9,2,2,1,1,1,3491,2438,1904,1638,1377,554,278,1,4,3,3,4,3,3,1,7,6,4,1,1,1,1,1,1,554,278,1,1],"membership":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,13,13,14,15,16,16,16,16,17,18,18,19,19,20,21,22,22,22,23,23,23,23,23,23,23,24,25,25,26,26,26,26,26,26,26,27,27,28,29,30,31,31,31,31,31,31,31,32,33,33,33,34,34,34,35,36,36,36,37,38,39,40,41,42,43,43,44,45]},"columns":[{"id":"word","name":"word","type":"character"},{"id":"degree","name":"degree","type":"numeric"},{"id":"betweenness","name":"betweenness","type":"numeric"},{"id":"membership","name":"membership","type":"numeric"}],"resizable":true,"dataKey":"07f86d77d6570e4e29a4f01225e1c440"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><br></p>
<p>Finalmente, visualizamos los resultados en una red de palabras. En ella, los nodos representan las palabras y los enlaces las coocurrencias entre ellas. Los colores de los nodos indican la comunidad a la que pertenecen, mientras que el tamaño de los nodos refleja su importancia en la red:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crea un gráfico de red</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co"># para los clusters</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>cpo <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">components</span>(ga)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>nclu <span class="ot">&lt;-</span> <span class="dv">5</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>ncomp <span class="ot">&lt;-</span> <span class="fu">which</span>(cpo<span class="sc">$</span>csize <span class="sc">&gt;</span> nclu)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>ga <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">delete_vertices</span>(ga, </span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>                              <span class="sc">!</span> cpo<span class="sc">$</span>membership <span class="sc">%in%</span> ncomp)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(networkD3)</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>dd <span class="ot">&lt;-</span> <span class="fu">igraph_to_networkD3</span>(ga, </span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>                          <span class="at">group =</span> <span class="fu">V</span>(ga)<span class="sc">$</span>membership)</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="fu">forceNetwork</span>(<span class="at">Links =</span> dd<span class="sc">$</span>links, </span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>             <span class="at">width =</span> <span class="dv">600</span>, </span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>             <span class="at">height =</span> <span class="dv">800</span>, </span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>             <span class="at">bounded =</span> T,</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>             <span class="at">linkDistance =</span> <span class="dv">50</span>, </span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>             <span class="at">charge=</span><span class="sc">-</span><span class="dv">20</span>,</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>             <span class="at">opacity=</span><span class="dv">1</span>,</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>             <span class="at">opacityNoHover=</span><span class="fl">0.3</span>,</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>             <span class="at">Nodes =</span> dd<span class="sc">$</span>nodes, </span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>             <span class="at">Source =</span> <span class="st">'source'</span>, </span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>             <span class="at">Target =</span> <span class="st">'target'</span>, </span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>             <span class="at">NodeID =</span> <span class="st">'name'</span>, </span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>             <span class="at">Group =</span> <span class="st">'group'</span>,</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>             <span class="at">fontSize =</span> <span class="dv">20</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="htmlwidget-bc0cdb00ff0c1762bc0b" style="width:100%;height:866px;" class="forceNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-bc0cdb00ff0c1762bc0b">{"x":{"links":{"source":[3,19,4,20,5,6,7,49,4,9,17,16,20,9,30,16,72,14,24,27,28,8,32,34,9,33,18,37,38,39,1,14,7,47,46,49,52,53,0,27,58,59,0,18,14,6,11,3,0,7,11,46,62,63,11,5,66,67,68,33,3,14,73,0,20,38,33,24,14,0,6,24,30,80,81,9,9,84,85,3,88,89,14,12,8,30,37,9,3,16,62,53,11,25,75,88,89,59,101,32,33,53,58,11,69,14,14,75,65,82,15,13,4,32,14,11,27,10,45,20,1,14,44,11,18,26,14,8,44,107,109,105,110,22,41,18,14,37,11,68,73,54,11,14,92,14,18,14,2,63,43,7,27,14,115,28,61,54,7,79,66,10,14,3,14,48,42,18,9,21,93,14,18,31,80,14],"target":[109,102,102,37,37,117,117,104,104,80,80,80,95,118,48,48,94,22,87,34,93,54,81,119,119,120,120,98,86,121,39,39,39,122,122,123,124,124,70,70,125,125,46,46,46,14,14,14,14,43,126,126,126,110,110,12,103,127,127,127,128,128,129,30,74,52,100,62,62,62,15,112,40,130,130,130,56,131,131,33,132,132,105,105,55,55,78,78,71,133,133,108,76,76,96,96,96,65,106,106,91,99,67,72,72,72,36,77,134,134,18,18,89,57,111,113,113,50,50,26,51,135,135,114,35,35,35,32,136,136,137,137,137,23,84,138,138,138,44,139,139,63,63,63,140,140,90,90,90,85,141,29,97,115,142,107,64,64,83,83,83,73,73,73,116,116,60,60,60,60,143,143,144,144,145,145],"colour":["#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666"]},"nodes":{"name":["puerta","sombrero","misma","rosario","niño","anciano","aquí","sombreros","debajo","siempre","ver","buby","fanny","dinero","dionisio","junto","hace","mano","paula","pozo","claro","difícil","bolsillo","saca","habitación","pijama","pues","ser","provincia","suelo","hacia","muchachas","retrato","mañana","caballeros","quiero","ojos","ahora","éste","copa","levanta","llevó","lindo","dos","señor","ir","dentro","viejos","balcón","quedó","puedo","puesto","hotel","solo","cama","mirando","llevar","poner","dicho","mesita","verdad","biombo","izquierda","sienta","tras","noche","lucecitas","nunca","virtuosa","gran","debe","muchas","oh","vamos","hago","triste","negro","pasa","mismo","malabares","así","cartera","bajo","tres","sala","sofá","chico","bonita","pálida","pobre","sigue","nuevo","años","cada","bien","azul","niña","tan","chaquet","número","iremos","tener","ahogó","farolas","aquel","mira","novia","toda","necesito","adoro","entro","pronto","lado","puede","quiere","teléfono","ve","aire","bailando","casan","caso","coge","coro","coser","cuarto","dejó","entra","feliz","habla","hacerle","llevaba","malva","martiriza","mutis","pasear","quién","rico","sabes","sale","señorita","siete","solos","timbre","vez","vivan","vuelve"],"group":[1,2,5,7,8,5,2,2,9,10,7,11,5,5,1,5,10,10,5,8,5,10,1,1,1,11,5,11,23,2,1,5,9,7,10,5,1,5,26,2,1,11,10,2,23,7,1,1,1,8,7,2,26,26,9,9,10,9,31,31,10,9,1,11,9,31,2,31,7,11,11,7,11,7,5,8,11,8,5,2,10,9,31,2,11,11,26,1,8,8,5,7,1,23,11,5,8,11,5,26,7,9,8,2,8,1,9,23,26,7,11,1,1,11,11,43,1,2,10,10,7,2,1,8,26,31,1,7,7,7,10,11,8,10,31,23,23,7,5,7,1,2,43,23,5,10]},"options":{"NodeID":"name","Group":"group","colourScale":"d3.scaleOrdinal(d3.schemeCategory20);","fontSize":20,"fontFamily":"serif","clickTextSize":50,"linkDistance":50,"linkWidth":"function(d) { return Math.sqrt(d.value); }","charge":-20,"opacity":1,"zoom":false,"legend":false,"arrows":false,"nodesize":false,"radiusCalculation":" Math.sqrt(d.nodesize)+6","bounded":true,"opacityNoHover":0.3,"clickAction":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><br></p>
<p>Al analizar los resultados en la tabla y el gráfico, resulta más sencillo identificar los temas a que pertenecen cada grupo de palabras. No solo eso, también se evidencian las conexiones entre distintos temas. El primero tiene que ver con Dionisio y su habitación. El segundo trata de objetos centrales como los sombreros de copa, las lucecitas en el puerto, los malabares o las farolas. Los <code>clusters</code> cinco y siete tratan, entre otras cosas, del diálogo entre Paula y El odioso señor. El número 8 trata del niño que se ha ahogado y de la novia de Dionisio, llamada “niña” por Don Sacramento, su padre.</p>
<div class="cell">
<div class="cell-output-display">
<div class="girafe html-widget html-fill-item" id="htmlwidget-7119c0581c88a3e02fa8" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-7119c0581c88a3e02fa8">{"x":{"html":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='ggiraph-svg' role='graphics-document' id='svg_8578b427_9b49_4656_8173_d477c088afc9' viewBox='0 0 648 720'>\n <defs id='svg_8578b427_9b49_4656_8173_d477c088afc9_defs'>\n  <clipPath id='svg_8578b427_9b49_4656_8173_d477c088afc9_c1'>\n   <rect x='0' y='0' width='648' height='720'/>\n  <\/clipPath>\n <\/defs>\n <g id='svg_8578b427_9b49_4656_8173_d477c088afc9_rootg' class='ggiraph-svg-rootg'>\n  <g clip-path='url(#svg_8578b427_9b49_4656_8173_d477c088afc9_c1)'>\n   <rect x='0' y='0' width='648' height='720' fill='#FFFFFF' fill-opacity='1' stroke='#FFFFFF' stroke-opacity='1' stroke-width='0.75' stroke-linejoin='round' stroke-linecap='round' class='ggiraph-svg-bg'/>\n   <polyline points='233.39,548.86 641.03,548.86' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='233.39,504.35 641.03,504.35' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='233.39,459.83 641.03,459.83' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='233.39,415.32 641.03,415.32' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='233.39,370.81 641.03,370.81' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='233.39,326.29 641.03,326.29' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='233.39,281.78 641.03,281.78' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='233.39,237.27 641.03,237.27' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='233.39,192.75 641.03,192.75' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='233.39,148.24 641.03,148.24' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='233.39,103.73 641.03,103.73' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='250.62,575.57 250.62,77.02' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='279.33,575.57 279.33,77.02' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='308.03,575.57 308.03,77.02' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='336.74,575.57 336.74,77.02' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='365.44,575.57 365.44,77.02' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='394.15,575.57 394.15,77.02' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='422.86,575.57 422.86,77.02' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='451.56,575.57 451.56,77.02' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='480.27,575.57 480.27,77.02' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='508.98,575.57 508.98,77.02' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='537.68,575.57 537.68,77.02' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='566.39,575.57 566.39,77.02' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='595.10,575.57 595.10,77.02' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='623.80,575.57 623.80,77.02' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e1' cx='250.62' cy='548.86' r='5.58pt' fill='#1F77B4' fill-opacity='0.55' stroke='#1F77B4' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='34.3'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e2' cx='250.62' cy='237.27' r='4.28pt' fill='#1F77B4' fill-opacity='0.55' stroke='#1F77B4' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='22'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e3' cx='250.62' cy='148.24' r='1.3pt' fill='#1F77B4' fill-opacity='0.55' stroke='#1F77B4' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='4.1'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e4' cx='250.62' cy='281.78' r='4.11pt' fill='#1F77B4' fill-opacity='0.55' stroke='#1F77B4' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='20.6'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e5' cx='250.62' cy='192.75' r='3.38pt' fill='#1F77B4' fill-opacity='0.55' stroke='#1F77B4' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='15.1'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e6' cx='250.62' cy='370.81' r='1.49pt' fill='#1F77B4' fill-opacity='0.55' stroke='#1F77B4' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='4.8'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e7' cx='250.62' cy='326.29' r='0.66pt' fill='#1F77B4' fill-opacity='0.55' stroke='#1F77B4' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='2.1'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e8' cx='250.62' cy='103.73' r='0.66pt' fill='#1F77B4' fill-opacity='0.55' stroke='#1F77B4' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='2.1'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e9' cx='250.62' cy='504.35' r='1.98pt' fill='#1F77B4' fill-opacity='0.55' stroke='#1F77B4' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='6.9'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e10' cx='250.62' cy='415.32' r='1.82pt' fill='#1F77B4' fill-opacity='0.55' stroke='#1F77B4' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='6.2'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e11' cx='250.62' cy='459.83' r='6.5pt' fill='#1F77B4' fill-opacity='0.55' stroke='#1F77B4' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='44.6'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e12' cx='279.33' cy='548.86' r='6.13pt' fill='#FF7F0E' fill-opacity='0.55' stroke='#FF7F0E' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='40.3'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e13' cx='279.33' cy='504.35' r='7.44pt' fill='#FF7F0E' fill-opacity='0.55' stroke='#FF7F0E' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='56.5'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e14' cx='279.33' cy='281.78' r='2.22pt' fill='#FF7F0E' fill-opacity='0.55' stroke='#FF7F0E' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='8.1'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e15' cx='279.33' cy='459.83' r='3.52pt' fill='#FF7F0E' fill-opacity='0.55' stroke='#FF7F0E' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='16.1'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e16' cx='279.33' cy='370.81' r='2.22pt' fill='#FF7F0E' fill-opacity='0.55' stroke='#FF7F0E' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='8.1'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e17' cx='279.33' cy='148.24' r='2.22pt' fill='#FF7F0E' fill-opacity='0.55' stroke='#FF7F0E' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='8.1'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e18' cx='308.03' cy='281.78' r='3.16pt' fill='#2CA02C' fill-opacity='0.55' stroke='#2CA02C' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='13.6'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e19' cx='308.03' cy='415.32' r='3.77pt' fill='#2CA02C' fill-opacity='0.55' stroke='#2CA02C' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='17.9'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e20' cx='308.03' cy='548.86' r='4.2pt' fill='#2CA02C' fill-opacity='0.55' stroke='#2CA02C' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='21.3'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e21' cx='308.03' cy='326.29' r='2.71pt' fill='#2CA02C' fill-opacity='0.55' stroke='#2CA02C' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='10.8'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e22' cx='308.03' cy='103.73' r='1.41pt' fill='#2CA02C' fill-opacity='0.55' stroke='#2CA02C' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='4.5'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e23' cx='308.03' cy='459.83' r='4.05pt' fill='#2CA02C' fill-opacity='0.55' stroke='#2CA02C' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='20.1'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e24' cx='308.03' cy='237.27' r='2.91pt' fill='#2CA02C' fill-opacity='0.55' stroke='#2CA02C' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='12'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e25' cx='308.03' cy='370.81' r='1.46pt' fill='#2CA02C' fill-opacity='0.55' stroke='#2CA02C' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='4.7'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e26' cx='308.03' cy='148.24' r='1.71pt' fill='#2CA02C' fill-opacity='0.55' stroke='#2CA02C' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='5.7'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e27' cx='308.03' cy='504.35' r='3.16pt' fill='#2CA02C' fill-opacity='0.55' stroke='#2CA02C' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='13.6'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e28' cx='308.03' cy='192.75' r='1.46pt' fill='#2CA02C' fill-opacity='0.55' stroke='#2CA02C' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='4.7'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e29' cx='336.74' cy='281.78' r='2.47pt' fill='#D62728' fill-opacity='0.55' stroke='#D62728' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='9.4'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e30' cx='336.74' cy='326.29' r='2.36pt' fill='#D62728' fill-opacity='0.55' stroke='#D62728' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='8.8'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e31' cx='336.74' cy='237.27' r='3.24pt' fill='#D62728' fill-opacity='0.55' stroke='#D62728' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='14.1'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e32' cx='336.74' cy='504.35' r='3.58pt' fill='#D62728' fill-opacity='0.55' stroke='#D62728' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='16.5'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e33' cx='336.74' cy='103.73' r='2.24pt' fill='#D62728' fill-opacity='0.55' stroke='#D62728' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='8.2'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e34' cx='336.74' cy='548.86' r='6.66pt' fill='#D62728' fill-opacity='0.55' stroke='#D62728' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='46.5'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e35' cx='336.74' cy='192.75' r='1.13pt' fill='#D62728' fill-opacity='0.55' stroke='#D62728' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='3.5'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e36' cx='336.74' cy='415.32' r='3.33pt' fill='#D62728' fill-opacity='0.55' stroke='#D62728' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='14.7'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e37' cx='336.74' cy='459.83' r='3.15pt' fill='#D62728' fill-opacity='0.55' stroke='#D62728' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='13.5'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e38' cx='336.74' cy='148.24' r='0.27pt' fill='#D62728' fill-opacity='0.55' stroke='#D62728' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='1.2'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e39' cx='336.74' cy='370.81' r='2.88pt' fill='#D62728' fill-opacity='0.55' stroke='#D62728' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='11.8'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e40' cx='365.44' cy='504.35' r='2.81pt' fill='#9467BD' fill-opacity='0.55' stroke='#9467BD' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='11.4'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e41' cx='365.44' cy='237.27' r='3.05pt' fill='#9467BD' fill-opacity='0.55' stroke='#9467BD' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='12.9'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e42' cx='365.44' cy='192.75' r='1.44pt' fill='#9467BD' fill-opacity='0.55' stroke='#9467BD' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='4.6'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e43' cx='365.44' cy='103.73' r='2.56pt' fill='#9467BD' fill-opacity='0.55' stroke='#9467BD' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='9.9'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e44' cx='365.44' cy='548.86' r='4.64pt' fill='#9467BD' fill-opacity='0.55' stroke='#9467BD' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='25.1'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e45' cx='365.44' cy='148.24' r='1.8pt' fill='#9467BD' fill-opacity='0.55' stroke='#9467BD' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='6.1'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e46' cx='365.44' cy='459.83' r='2.68pt' fill='#9467BD' fill-opacity='0.55' stroke='#9467BD' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='10.6'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e47' cx='365.44' cy='281.78' r='3.72pt' fill='#9467BD' fill-opacity='0.55' stroke='#9467BD' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='17.5'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e48' cx='365.44' cy='370.81' r='4.38pt' fill='#9467BD' fill-opacity='0.55' stroke='#9467BD' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='22.8'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e49' cx='365.44' cy='326.29' r='2.81pt' fill='#9467BD' fill-opacity='0.55' stroke='#9467BD' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='11.4'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e50' cx='365.44' cy='415.32' r='0.98pt' fill='#9467BD' fill-opacity='0.55' stroke='#9467BD' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='3'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e51' cx='394.15' cy='237.27' r='4.52pt' fill='#8C564B' fill-opacity='0.55' stroke='#8C564B' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='24'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e52' cx='394.15' cy='459.83' r='4.1pt' fill='#8C564B' fill-opacity='0.55' stroke='#8C564B' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='20.5'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e53' cx='394.15' cy='548.86' r='3.18pt' fill='#8C564B' fill-opacity='0.55' stroke='#8C564B' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='13.7'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e54' cx='394.15' cy='504.35' r='1.96pt' fill='#8C564B' fill-opacity='0.55' stroke='#8C564B' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='6.8'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e55' cx='394.15' cy='192.75' r='1.1pt' fill='#8C564B' fill-opacity='0.55' stroke='#8C564B' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='3.4'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e56' cx='394.15' cy='326.29' r='1.96pt' fill='#8C564B' fill-opacity='0.55' stroke='#8C564B' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='6.8'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e57' cx='394.15' cy='281.78' r='1.96pt' fill='#8C564B' fill-opacity='0.55' stroke='#8C564B' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='6.8'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e58' cx='394.15' cy='415.32' r='6.49pt' fill='#8C564B' fill-opacity='0.55' stroke='#8C564B' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='44.5'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e59' cx='394.15' cy='370.81' r='1.1pt' fill='#8C564B' fill-opacity='0.55' stroke='#8C564B' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='3.4'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e60' cx='394.15' cy='103.73' r='1.1pt' fill='#8C564B' fill-opacity='0.55' stroke='#8C564B' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='3.4'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e61' cx='394.15' cy='148.24' r='1.1pt' fill='#8C564B' fill-opacity='0.55' stroke='#8C564B' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='3.4'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e62' cx='422.86' cy='326.29' r='5.44pt' fill='#E377C2' fill-opacity='0.55' stroke='#E377C2' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='32.8'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e63' cx='422.86' cy='237.27' r='3.57pt' fill='#E377C2' fill-opacity='0.55' stroke='#E377C2' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='16.4'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e64' cx='422.86' cy='459.83' r='2.24pt' fill='#E377C2' fill-opacity='0.55' stroke='#E377C2' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='8.2'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e65' cx='422.86' cy='370.81' r='2.24pt' fill='#E377C2' fill-opacity='0.55' stroke='#E377C2' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='8.2'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e66' cx='422.86' cy='504.35' r='4.58pt' fill='#E377C2' fill-opacity='0.55' stroke='#E377C2' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='24.6'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e67' cx='422.86' cy='192.75' r='2.24pt' fill='#E377C2' fill-opacity='0.55' stroke='#E377C2' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='8.2'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e68' cx='422.86' cy='548.86' r='5.44pt' fill='#E377C2' fill-opacity='0.55' stroke='#E377C2' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='32.8'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e69' cx='422.86' cy='281.78' r='7.51pt' fill='#E377C2' fill-opacity='0.55' stroke='#E377C2' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='57.4'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e70' cx='422.86' cy='103.73' r='2.24pt' fill='#E377C2' fill-opacity='0.55' stroke='#E377C2' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='8.2'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e71' cx='422.86' cy='415.32' r='6.88pt' fill='#E377C2' fill-opacity='0.55' stroke='#E377C2' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='49.2'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e72' cx='451.56' cy='192.75' r='5.33pt' fill='#7F7F7F' fill-opacity='0.55' stroke='#7F7F7F' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='31.7'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e73' cx='451.56' cy='415.32' r='5.33pt' fill='#7F7F7F' fill-opacity='0.55' stroke='#7F7F7F' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='31.7'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e74' cx='480.27' cy='237.27' r='3.22pt' fill='#BCBD22' fill-opacity='0.55' stroke='#BCBD22' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='14'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e75' cx='480.27' cy='192.75' r='3.07pt' fill='#BCBD22' fill-opacity='0.55' stroke='#BCBD22' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='13'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e76' cx='480.27' cy='504.35' r='2.28pt' fill='#BCBD22' fill-opacity='0.55' stroke='#BCBD22' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='8.4'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e77' cx='480.27' cy='326.29' r='2.08pt' fill='#BCBD22' fill-opacity='0.55' stroke='#BCBD22' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='7.4'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e78' cx='480.27' cy='281.78' r='3.35pt' fill='#BCBD22' fill-opacity='0.55' stroke='#BCBD22' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='14.9'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e79' cx='480.27' cy='459.83' r='4.32pt' fill='#BCBD22' fill-opacity='0.55' stroke='#BCBD22' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='22.3'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e80' cx='480.27' cy='548.86' r='4.64pt' fill='#BCBD22' fill-opacity='0.55' stroke='#BCBD22' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='25.1'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e81' cx='480.27' cy='415.32' r='3.74pt' fill='#BCBD22' fill-opacity='0.55' stroke='#BCBD22' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='17.7'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e82' cx='480.27' cy='148.24' r='0.91pt' fill='#BCBD22' fill-opacity='0.55' stroke='#BCBD22' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='2.8'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e83' cx='480.27' cy='370.81' r='0.91pt' fill='#BCBD22' fill-opacity='0.55' stroke='#BCBD22' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='2.8'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e84' cx='508.98' cy='237.27' r='4.39pt' fill='#17BECF' fill-opacity='0.55' stroke='#17BECF' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='22.9'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e85' cx='508.98' cy='548.86' r='5.94pt' fill='#17BECF' fill-opacity='0.55' stroke='#17BECF' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='38.1'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e86' cx='508.98' cy='504.35' r='1.8pt' fill='#17BECF' fill-opacity='0.55' stroke='#17BECF' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='6.1'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e87' cx='508.98' cy='370.81' r='2.12pt' fill='#17BECF' fill-opacity='0.55' stroke='#17BECF' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='7.6'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e88' cx='508.98' cy='415.32' r='2.12pt' fill='#17BECF' fill-opacity='0.55' stroke='#17BECF' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='7.6'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e89' cx='508.98' cy='192.75' r='2.94pt' fill='#17BECF' fill-opacity='0.55' stroke='#17BECF' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='12.2'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e90' cx='508.98' cy='103.73' r='0.41pt' fill='#17BECF' fill-opacity='0.55' stroke='#17BECF' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='1.5'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e91' cx='508.98' cy='148.24' r='0.41pt' fill='#17BECF' fill-opacity='0.55' stroke='#17BECF' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='1.5'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e92' cx='508.98' cy='281.78' r='3.62pt' fill='#17BECF' fill-opacity='0.55' stroke='#17BECF' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='16.8'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e93' cx='508.98' cy='459.83' r='6.07pt' fill='#17BECF' fill-opacity='0.55' stroke='#17BECF' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='39.6'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e94' cx='508.98' cy='326.29' r='0.98pt' fill='#17BECF' fill-opacity='0.55' stroke='#17BECF' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='3'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e95' cx='537.68' cy='548.86' r='2.76pt' fill='#AEC7E8' fill-opacity='0.55' stroke='#AEC7E8' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='11.1'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e96' cx='537.68' cy='415.32' r='1.69pt' fill='#AEC7E8' fill-opacity='0.55' stroke='#AEC7E8' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='5.6'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e97' cx='537.68' cy='281.78' r='2.76pt' fill='#AEC7E8' fill-opacity='0.55' stroke='#AEC7E8' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='11.1'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e98' cx='537.68' cy='103.73' r='2.76pt' fill='#AEC7E8' fill-opacity='0.55' stroke='#AEC7E8' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='11.1'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e99' cx='537.68' cy='237.27' r='4.93pt' fill='#AEC7E8' fill-opacity='0.55' stroke='#AEC7E8' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='27.8'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e100' cx='537.68' cy='370.81' r='2.76pt' fill='#AEC7E8' fill-opacity='0.55' stroke='#AEC7E8' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='11.1'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e101' cx='537.68' cy='504.35' r='2.76pt' fill='#AEC7E8' fill-opacity='0.55' stroke='#AEC7E8' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='11.1'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e102' cx='537.68' cy='459.83' r='4.31pt' fill='#AEC7E8' fill-opacity='0.55' stroke='#AEC7E8' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='22.2'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e103' cx='566.39' cy='237.27' r='4.58pt' fill='#FFBB78' fill-opacity='0.55' stroke='#FFBB78' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='24.6'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e104' cx='566.39' cy='548.86' r='5.14pt' fill='#FFBB78' fill-opacity='0.55' stroke='#FFBB78' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='29.8'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e105' cx='566.39' cy='504.35' r='2.94pt' fill='#FFBB78' fill-opacity='0.55' stroke='#FFBB78' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='12.2'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e106' cx='566.39' cy='370.81' r='1.28pt' fill='#FFBB78' fill-opacity='0.55' stroke='#FFBB78' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='4'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e107' cx='566.39' cy='326.29' r='2.1pt' fill='#FFBB78' fill-opacity='0.55' stroke='#FFBB78' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='7.5'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e108' cx='566.39' cy='192.75' r='2.34pt' fill='#FFBB78' fill-opacity='0.55' stroke='#FFBB78' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='8.7'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e109' cx='566.39' cy='148.24' r='0.88pt' fill='#FFBB78' fill-opacity='0.55' stroke='#FFBB78' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='2.7'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e110' cx='566.39' cy='281.78' r='4.03pt' fill='#FFBB78' fill-opacity='0.55' stroke='#FFBB78' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='19.9'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e111' cx='566.39' cy='415.32' r='3.74pt' fill='#FFBB78' fill-opacity='0.55' stroke='#FFBB78' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='17.7'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e112' cx='566.39' cy='459.83' r='3.57pt' fill='#FFBB78' fill-opacity='0.55' stroke='#FFBB78' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='16.4'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e113' cx='566.39' cy='103.73' r='1.46pt' fill='#FFBB78' fill-opacity='0.55' stroke='#FFBB78' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='4.7'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e114' cx='595.1' cy='237.27' r='3.45pt' fill='#98DF8A' fill-opacity='0.55' stroke='#98DF8A' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='15.6'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e115' cx='595.1' cy='548.86' r='2.16pt' fill='#98DF8A' fill-opacity='0.55' stroke='#98DF8A' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='7.8'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e116' cx='595.1' cy='459.83' r='6.03pt' fill='#98DF8A' fill-opacity='0.55' stroke='#98DF8A' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='39.1'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e117' cx='595.1' cy='415.32' r='2.16pt' fill='#98DF8A' fill-opacity='0.55' stroke='#98DF8A' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='7.8'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e118' cx='595.1' cy='192.75' r='3.45pt' fill='#98DF8A' fill-opacity='0.55' stroke='#98DF8A' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='15.6'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e119' cx='595.1' cy='281.78' r='5.28pt' fill='#98DF8A' fill-opacity='0.55' stroke='#98DF8A' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='31.2'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e120' cx='595.1' cy='103.73' r='2.16pt' fill='#98DF8A' fill-opacity='0.55' stroke='#98DF8A' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='7.8'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e121' cx='623.8' cy='548.86' r='8.27pt' fill='#FF9896' fill-opacity='0.55' stroke='#FF9896' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='68.2'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e122' cx='623.8' cy='148.24' r='4.36pt' fill='#FF9896' fill-opacity='0.55' stroke='#FF9896' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='22.7'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e123' cx='623.8' cy='504.35' r='8.27pt' fill='#FF9896' fill-opacity='0.55' stroke='#FF9896' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='68.2'/>\n   <circle id='svg_8578b427_9b49_4656_8173_d477c088afc9_e124' cx='623.8' cy='103.73' r='6.58pt' fill='#FF9896' fill-opacity='0.55' stroke='#FF9896' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='45.5'/>\n   <circle cx='250.62' cy='548.86' r='3.34pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='250.62' cy='237.27' r='3.34pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='250.62' cy='148.24' r='3.34pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='250.62' cy='281.78' r='3.34pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='250.62' cy='192.75' r='3.34pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='250.62' cy='370.81' r='3.34pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='250.62' cy='326.29' r='3.34pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='250.62' cy='103.73' r='3.34pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='250.62' cy='504.35' r='3.34pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='250.62' cy='415.32' r='3.34pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='250.62' cy='459.83' r='3.34pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='279.33' cy='548.86' r='4.38pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='279.33' cy='504.35' r='4.38pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='279.33' cy='281.78' r='4.38pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='279.33' cy='459.83' r='4.38pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='279.33' cy='370.81' r='4.38pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='279.33' cy='148.24' r='4.38pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='308.03' cy='281.78' r='2.87pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='308.03' cy='415.32' r='2.87pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='308.03' cy='548.86' r='2.87pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='308.03' cy='326.29' r='2.87pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='308.03' cy='103.73' r='2.87pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='308.03' cy='459.83' r='2.87pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='308.03' cy='237.27' r='2.87pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='308.03' cy='370.81' r='2.87pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='308.03' cy='148.24' r='2.87pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='308.03' cy='504.35' r='2.87pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='308.03' cy='192.75' r='2.87pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='336.74' cy='281.78' r='3.14pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='336.74' cy='326.29' r='3.14pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='336.74' cy='237.27' r='3.14pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='336.74' cy='504.35' r='3.14pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='336.74' cy='103.73' r='3.14pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='336.74' cy='548.86' r='3.14pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='336.74' cy='192.75' r='3.14pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='336.74' cy='415.32' r='3.14pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='336.74' cy='459.83' r='3.14pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='336.74' cy='148.24' r='3.14pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='336.74' cy='370.81' r='3.14pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='365.44' cy='504.35' r='2.96pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='365.44' cy='237.27' r='2.96pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='365.44' cy='192.75' r='2.96pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='365.44' cy='103.73' r='2.96pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='365.44' cy='548.86' r='2.96pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='365.44' cy='148.24' r='2.96pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='365.44' cy='459.83' r='2.96pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='365.44' cy='281.78' r='2.96pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='365.44' cy='370.81' r='2.96pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='365.44' cy='326.29' r='2.96pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='365.44' cy='415.32' r='2.96pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='394.15' cy='237.27' r='2.98pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='394.15' cy='459.83' r='2.98pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='394.15' cy='548.86' r='2.98pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='394.15' cy='504.35' r='2.98pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='394.15' cy='192.75' r='2.98pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='394.15' cy='326.29' r='2.98pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='394.15' cy='281.78' r='2.98pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='394.15' cy='415.32' r='2.98pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='394.15' cy='370.81' r='2.98pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='394.15' cy='103.73' r='2.98pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='394.15' cy='148.24' r='2.98pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='422.86' cy='326.29' r='4.58pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='422.86' cy='237.27' r='4.58pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='422.86' cy='459.83' r='4.58pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='422.86' cy='370.81' r='4.58pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='422.86' cy='504.35' r='4.58pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='422.86' cy='192.75' r='4.58pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='422.86' cy='548.86' r='4.58pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='422.86' cy='281.78' r='4.58pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='422.86' cy='103.73' r='4.58pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='422.86' cy='415.32' r='4.58pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='451.56' cy='192.75' r='5.33pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='451.56' cy='415.32' r='5.33pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='480.27' cy='237.27' r='3.05pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='480.27' cy='192.75' r='3.05pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='480.27' cy='504.35' r='3.05pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='480.27' cy='326.29' r='3.05pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='480.27' cy='281.78' r='3.05pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='480.27' cy='459.83' r='3.05pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='480.27' cy='548.86' r='3.05pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='480.27' cy='415.32' r='3.05pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='480.27' cy='148.24' r='3.05pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='480.27' cy='370.81' r='3.05pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='508.98' cy='237.27' r='3.26pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='508.98' cy='548.86' r='3.26pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='508.98' cy='504.35' r='3.26pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='508.98' cy='370.81' r='3.26pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='508.98' cy='415.32' r='3.26pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='508.98' cy='192.75' r='3.26pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='508.98' cy='103.73' r='3.26pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='508.98' cy='148.24' r='3.26pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='508.98' cy='281.78' r='3.26pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='508.98' cy='459.83' r='3.26pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='508.98' cy='326.29' r='3.26pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='537.68' cy='548.86' r='3.21pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='537.68' cy='415.32' r='3.21pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='537.68' cy='281.78' r='3.21pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='537.68' cy='103.73' r='3.21pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='537.68' cy='237.27' r='3.21pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='537.68' cy='370.81' r='3.21pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='537.68' cy='504.35' r='3.21pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='537.68' cy='459.83' r='3.21pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='566.39' cy='237.27' r='3.14pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='566.39' cy='548.86' r='3.14pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='566.39' cy='504.35' r='3.14pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='566.39' cy='370.81' r='3.14pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='566.39' cy='326.29' r='3.14pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='566.39' cy='192.75' r='3.14pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='566.39' cy='148.24' r='3.14pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='566.39' cy='281.78' r='3.14pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='566.39' cy='415.32' r='3.14pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='566.39' cy='459.83' r='3.14pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='566.39' cy='103.73' r='3.14pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='595.1' cy='237.27' r='3.76pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='595.1' cy='548.86' r='3.76pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='595.1' cy='459.83' r='3.76pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='595.1' cy='415.32' r='3.76pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='595.1' cy='192.75' r='3.76pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='595.1' cy='281.78' r='3.76pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='595.1' cy='103.73' r='3.76pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='623.8' cy='548.86' r='7.03pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='623.8' cy='148.24' r='7.03pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='623.8' cy='504.35' r='7.03pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='623.8' cy='103.73' r='7.03pt' fill='none' stroke='#000000' stroke-opacity='0.55' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <text x='178.85' y='569.8' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>dionisio, puerta, izquierda, ve, hacia, dentro, balcón, habitación, mira, bolsillo<\/text>\n   <text x='178.85' y='258.2' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>buby, sienta, ser, puede, negro, oh, sofá, malva, tan, sala                       <\/text>\n   <text x='178.85' y='169.18' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>solo, cuarto, hotel, número, éste, chico, necesito                                <\/text>\n   <text x='178.85' y='302.72' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>siempre, así, vuelve, verdad, llevaba, hace, casan, caballeros, bailando, difícil <\/text>\n   <text x='178.85' y='213.69' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>señor, vez, cada, quién, provincia, rico, toda                                    <\/text>\n   <text x='178.85' y='391.74' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>niño, pobre, niña, aquel, triste, ahogó, quedó, coser, pasa, pozo                 <\/text>\n   <text x='178.85' y='347.23' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>cartera, retrato, cama, tras, mirando, novia, debajo, biombo, poner, tener        <\/text>\n   <text x='178.85' y='124.67' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>nunca, dicho, dejó, mesita, noche, pasear, bajo                                   <\/text>\n   <text x='178.85' y='525.28' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>aquí, aire, sombreros, copa, tres, dos, sombrero, suelo, lucecitas, coge          <\/text>\n   <text x='178.85' y='436.26' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>mañana, rosario, feliz, vamos, caso, ver, puedo, señorita, hacerle, ir            <\/text>\n   <text x='178.85' y='480.77' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>paula, sale, ahora, sigue, quiero, pues, claro, junto, fanny, dinero              <\/text>\n   <text x='178.85' y='569.8' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>dionisio, puerta, izquierda, ve, hacia, dentro, balcón, habitación, mira, bolsillo<\/text>\n   <text x='178.85' y='525.28' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>aquí, aire, sombreros, copa, tres, dos, sombrero, suelo, lucecitas, coge          <\/text>\n   <text x='178.85' y='302.72' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>siempre, así, vuelve, verdad, llevaba, hace, casan, caballeros, bailando, difícil <\/text>\n   <text x='178.85' y='480.77' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>paula, sale, ahora, sigue, quiero, pues, claro, junto, fanny, dinero              <\/text>\n   <text x='178.85' y='391.74' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>niño, pobre, niña, aquel, triste, ahogó, quedó, coser, pasa, pozo                 <\/text>\n   <text x='178.85' y='169.18' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>solo, cuarto, hotel, número, éste, chico, necesito                                <\/text>\n   <text x='178.85' y='302.72' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>siempre, así, vuelve, verdad, llevaba, hace, casan, caballeros, bailando, difícil <\/text>\n   <text x='178.85' y='436.26' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>mañana, rosario, feliz, vamos, caso, ver, puedo, señorita, hacerle, ir            <\/text>\n   <text x='178.85' y='569.8' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>dionisio, puerta, izquierda, ve, hacia, dentro, balcón, habitación, mira, bolsillo<\/text>\n   <text x='178.85' y='347.23' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>cartera, retrato, cama, tras, mirando, novia, debajo, biombo, poner, tener        <\/text>\n   <text x='178.85' y='124.67' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>nunca, dicho, dejó, mesita, noche, pasear, bajo                                   <\/text>\n   <text x='178.85' y='480.77' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>paula, sale, ahora, sigue, quiero, pues, claro, junto, fanny, dinero              <\/text>\n   <text x='178.85' y='258.2' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>buby, sienta, ser, puede, negro, oh, sofá, malva, tan, sala                       <\/text>\n   <text x='178.85' y='391.74' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>niño, pobre, niña, aquel, triste, ahogó, quedó, coser, pasa, pozo                 <\/text>\n   <text x='178.85' y='169.18' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>solo, cuarto, hotel, número, éste, chico, necesito                                <\/text>\n   <text x='178.85' y='525.28' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>aquí, aire, sombreros, copa, tres, dos, sombrero, suelo, lucecitas, coge          <\/text>\n   <text x='178.85' y='213.69' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>señor, vez, cada, quién, provincia, rico, toda                                    <\/text>\n   <text x='178.85' y='302.72' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>siempre, así, vuelve, verdad, llevaba, hace, casan, caballeros, bailando, difícil <\/text>\n   <text x='178.85' y='347.23' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>cartera, retrato, cama, tras, mirando, novia, debajo, biombo, poner, tener        <\/text>\n   <text x='178.85' y='258.2' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>buby, sienta, ser, puede, negro, oh, sofá, malva, tan, sala                       <\/text>\n   <text x='178.85' y='525.28' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>aquí, aire, sombreros, copa, tres, dos, sombrero, suelo, lucecitas, coge          <\/text>\n   <text x='178.85' y='124.67' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>nunca, dicho, dejó, mesita, noche, pasear, bajo                                   <\/text>\n   <text x='178.85' y='569.8' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>dionisio, puerta, izquierda, ve, hacia, dentro, balcón, habitación, mira, bolsillo<\/text>\n   <text x='178.85' y='213.69' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>señor, vez, cada, quién, provincia, rico, toda                                    <\/text>\n   <text x='178.85' y='436.26' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>mañana, rosario, feliz, vamos, caso, ver, puedo, señorita, hacerle, ir            <\/text>\n   <text x='178.85' y='480.77' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>paula, sale, ahora, sigue, quiero, pues, claro, junto, fanny, dinero              <\/text>\n   <text x='178.85' y='169.18' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>solo, cuarto, hotel, número, éste, chico, necesito                                <\/text>\n   <text x='178.85' y='391.74' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>niño, pobre, niña, aquel, triste, ahogó, quedó, coser, pasa, pozo                 <\/text>\n   <text x='178.85' y='525.28' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>aquí, aire, sombreros, copa, tres, dos, sombrero, suelo, lucecitas, coge          <\/text>\n   <text x='178.85' y='258.2' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>buby, sienta, ser, puede, negro, oh, sofá, malva, tan, sala                       <\/text>\n   <text x='178.85' y='213.69' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>señor, vez, cada, quién, provincia, rico, toda                                    <\/text>\n   <text x='178.85' y='124.67' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>nunca, dicho, dejó, mesita, noche, pasear, bajo                                   <\/text>\n   <text x='178.85' y='569.8' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>dionisio, puerta, izquierda, ve, hacia, dentro, balcón, habitación, mira, bolsillo<\/text>\n   <text x='178.85' y='169.18' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>solo, cuarto, hotel, número, éste, chico, necesito                                <\/text>\n   <text x='178.85' y='480.77' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>paula, sale, ahora, sigue, quiero, pues, claro, junto, fanny, dinero              <\/text>\n   <text x='178.85' y='302.72' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>siempre, así, vuelve, verdad, llevaba, hace, casan, caballeros, bailando, difícil <\/text>\n   <text x='178.85' y='391.74' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>niño, pobre, niña, aquel, triste, ahogó, quedó, coser, pasa, pozo                 <\/text>\n   <text x='178.85' y='347.23' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>cartera, retrato, cama, tras, mirando, novia, debajo, biombo, poner, tener        <\/text>\n   <text x='178.85' y='436.26' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>mañana, rosario, feliz, vamos, caso, ver, puedo, señorita, hacerle, ir            <\/text>\n   <text x='178.85' y='258.2' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>buby, sienta, ser, puede, negro, oh, sofá, malva, tan, sala                       <\/text>\n   <text x='178.85' y='480.77' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>paula, sale, ahora, sigue, quiero, pues, claro, junto, fanny, dinero              <\/text>\n   <text x='178.85' y='569.8' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>dionisio, puerta, izquierda, ve, hacia, dentro, balcón, habitación, mira, bolsillo<\/text>\n   <text x='178.85' y='525.28' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>aquí, aire, sombreros, copa, tres, dos, sombrero, suelo, lucecitas, coge          <\/text>\n   <text x='178.85' y='213.69' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>señor, vez, cada, quién, provincia, rico, toda                                    <\/text>\n   <text x='178.85' y='347.23' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>cartera, retrato, cama, tras, mirando, novia, debajo, biombo, poner, tener        <\/text>\n   <text x='178.85' y='302.72' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>siempre, así, vuelve, verdad, llevaba, hace, casan, caballeros, bailando, difícil <\/text>\n   <text x='178.85' y='436.26' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>mañana, rosario, feliz, vamos, caso, ver, puedo, señorita, hacerle, ir            <\/text>\n   <text x='178.85' y='391.74' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>niño, pobre, niña, aquel, triste, ahogó, quedó, coser, pasa, pozo                 <\/text>\n   <text x='178.85' y='124.67' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>nunca, dicho, dejó, mesita, noche, pasear, bajo                                   <\/text>\n   <text x='178.85' y='169.18' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>solo, cuarto, hotel, número, éste, chico, necesito                                <\/text>\n   <text x='178.85' y='347.23' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>cartera, retrato, cama, tras, mirando, novia, debajo, biombo, poner, tener        <\/text>\n   <text x='178.85' y='258.2' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>buby, sienta, ser, puede, negro, oh, sofá, malva, tan, sala                       <\/text>\n   <text x='178.85' y='480.77' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>paula, sale, ahora, sigue, quiero, pues, claro, junto, fanny, dinero              <\/text>\n   <text x='178.85' y='391.74' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>niño, pobre, niña, aquel, triste, ahogó, quedó, coser, pasa, pozo                 <\/text>\n   <text x='178.85' y='525.28' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>aquí, aire, sombreros, copa, tres, dos, sombrero, suelo, lucecitas, coge          <\/text>\n   <text x='178.85' y='213.69' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>señor, vez, cada, quién, provincia, rico, toda                                    <\/text>\n   <text x='178.85' y='569.8' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>dionisio, puerta, izquierda, ve, hacia, dentro, balcón, habitación, mira, bolsillo<\/text>\n   <text x='178.85' y='302.72' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>siempre, así, vuelve, verdad, llevaba, hace, casan, caballeros, bailando, difícil <\/text>\n   <text x='178.85' y='124.67' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>nunca, dicho, dejó, mesita, noche, pasear, bajo                                   <\/text>\n   <text x='178.85' y='436.26' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>mañana, rosario, feliz, vamos, caso, ver, puedo, señorita, hacerle, ir            <\/text>\n   <text x='178.85' y='213.69' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>señor, vez, cada, quién, provincia, rico, toda                                    <\/text>\n   <text x='178.85' y='436.26' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>mañana, rosario, feliz, vamos, caso, ver, puedo, señorita, hacerle, ir            <\/text>\n   <text x='178.85' y='258.2' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>buby, sienta, ser, puede, negro, oh, sofá, malva, tan, sala                       <\/text>\n   <text x='178.85' y='213.69' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>señor, vez, cada, quién, provincia, rico, toda                                    <\/text>\n   <text x='178.85' y='525.28' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>aquí, aire, sombreros, copa, tres, dos, sombrero, suelo, lucecitas, coge          <\/text>\n   <text x='178.85' y='347.23' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>cartera, retrato, cama, tras, mirando, novia, debajo, biombo, poner, tener        <\/text>\n   <text x='178.85' y='302.72' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>siempre, así, vuelve, verdad, llevaba, hace, casan, caballeros, bailando, difícil <\/text>\n   <text x='178.85' y='480.77' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>paula, sale, ahora, sigue, quiero, pues, claro, junto, fanny, dinero              <\/text>\n   <text x='178.85' y='569.8' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>dionisio, puerta, izquierda, ve, hacia, dentro, balcón, habitación, mira, bolsillo<\/text>\n   <text x='178.85' y='436.26' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>mañana, rosario, feliz, vamos, caso, ver, puedo, señorita, hacerle, ir            <\/text>\n   <text x='178.85' y='169.18' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>solo, cuarto, hotel, número, éste, chico, necesito                                <\/text>\n   <text x='178.85' y='391.74' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>niño, pobre, niña, aquel, triste, ahogó, quedó, coser, pasa, pozo                 <\/text>\n   <text x='178.85' y='258.2' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>buby, sienta, ser, puede, negro, oh, sofá, malva, tan, sala                       <\/text>\n   <text x='178.85' y='569.8' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>dionisio, puerta, izquierda, ve, hacia, dentro, balcón, habitación, mira, bolsillo<\/text>\n   <text x='178.85' y='525.28' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>aquí, aire, sombreros, copa, tres, dos, sombrero, suelo, lucecitas, coge          <\/text>\n   <text x='178.85' y='391.74' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>niño, pobre, niña, aquel, triste, ahogó, quedó, coser, pasa, pozo                 <\/text>\n   <text x='178.85' y='436.26' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>mañana, rosario, feliz, vamos, caso, ver, puedo, señorita, hacerle, ir            <\/text>\n   <text x='178.85' y='213.69' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>señor, vez, cada, quién, provincia, rico, toda                                    <\/text>\n   <text x='178.85' y='124.67' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>nunca, dicho, dejó, mesita, noche, pasear, bajo                                   <\/text>\n   <text x='178.85' y='169.18' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>solo, cuarto, hotel, número, éste, chico, necesito                                <\/text>\n   <text x='178.85' y='302.72' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>siempre, así, vuelve, verdad, llevaba, hace, casan, caballeros, bailando, difícil <\/text>\n   <text x='178.85' y='480.77' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>paula, sale, ahora, sigue, quiero, pues, claro, junto, fanny, dinero              <\/text>\n   <text x='178.85' y='347.23' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>cartera, retrato, cama, tras, mirando, novia, debajo, biombo, poner, tener        <\/text>\n   <text x='178.85' y='569.8' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>dionisio, puerta, izquierda, ve, hacia, dentro, balcón, habitación, mira, bolsillo<\/text>\n   <text x='178.85' y='436.26' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>mañana, rosario, feliz, vamos, caso, ver, puedo, señorita, hacerle, ir            <\/text>\n   <text x='178.85' y='302.72' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>siempre, así, vuelve, verdad, llevaba, hace, casan, caballeros, bailando, difícil <\/text>\n   <text x='178.85' y='124.67' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>nunca, dicho, dejó, mesita, noche, pasear, bajo                                   <\/text>\n   <text x='178.85' y='258.2' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>buby, sienta, ser, puede, negro, oh, sofá, malva, tan, sala                       <\/text>\n   <text x='178.85' y='391.74' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>niño, pobre, niña, aquel, triste, ahogó, quedó, coser, pasa, pozo                 <\/text>\n   <text x='178.85' y='525.28' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>aquí, aire, sombreros, copa, tres, dos, sombrero, suelo, lucecitas, coge          <\/text>\n   <text x='178.85' y='480.77' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>paula, sale, ahora, sigue, quiero, pues, claro, junto, fanny, dinero              <\/text>\n   <text x='178.85' y='258.2' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>buby, sienta, ser, puede, negro, oh, sofá, malva, tan, sala                       <\/text>\n   <text x='178.85' y='569.8' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>dionisio, puerta, izquierda, ve, hacia, dentro, balcón, habitación, mira, bolsillo<\/text>\n   <text x='178.85' y='525.28' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>aquí, aire, sombreros, copa, tres, dos, sombrero, suelo, lucecitas, coge          <\/text>\n   <text x='178.85' y='391.74' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>niño, pobre, niña, aquel, triste, ahogó, quedó, coser, pasa, pozo                 <\/text>\n   <text x='178.85' y='347.23' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>cartera, retrato, cama, tras, mirando, novia, debajo, biombo, poner, tener        <\/text>\n   <text x='178.85' y='213.69' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>señor, vez, cada, quién, provincia, rico, toda                                    <\/text>\n   <text x='178.85' y='169.18' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>solo, cuarto, hotel, número, éste, chico, necesito                                <\/text>\n   <text x='178.85' y='302.72' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>siempre, así, vuelve, verdad, llevaba, hace, casan, caballeros, bailando, difícil <\/text>\n   <text x='178.85' y='436.26' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>mañana, rosario, feliz, vamos, caso, ver, puedo, señorita, hacerle, ir            <\/text>\n   <text x='178.85' y='480.77' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>paula, sale, ahora, sigue, quiero, pues, claro, junto, fanny, dinero              <\/text>\n   <text x='178.85' y='124.67' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>nunca, dicho, dejó, mesita, noche, pasear, bajo                                   <\/text>\n   <text x='178.85' y='258.2' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>buby, sienta, ser, puede, negro, oh, sofá, malva, tan, sala                       <\/text>\n   <text x='178.85' y='569.8' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>dionisio, puerta, izquierda, ve, hacia, dentro, balcón, habitación, mira, bolsillo<\/text>\n   <text x='178.85' y='480.77' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>paula, sale, ahora, sigue, quiero, pues, claro, junto, fanny, dinero              <\/text>\n   <text x='178.85' y='436.26' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>mañana, rosario, feliz, vamos, caso, ver, puedo, señorita, hacerle, ir            <\/text>\n   <text x='178.85' y='213.69' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>señor, vez, cada, quién, provincia, rico, toda                                    <\/text>\n   <text x='178.85' y='302.72' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>siempre, así, vuelve, verdad, llevaba, hace, casan, caballeros, bailando, difícil <\/text>\n   <text x='178.85' y='124.67' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>nunca, dicho, dejó, mesita, noche, pasear, bajo                                   <\/text>\n   <text x='178.85' y='569.8' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>dionisio, puerta, izquierda, ve, hacia, dentro, balcón, habitación, mira, bolsillo<\/text>\n   <text x='178.85' y='169.18' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>solo, cuarto, hotel, número, éste, chico, necesito                                <\/text>\n   <text x='178.85' y='525.28' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>aquí, aire, sombreros, copa, tres, dos, sombrero, suelo, lucecitas, coge          <\/text>\n   <text x='178.85' y='124.67' font-size='8.11pt' font-family='Homemade Apple' fill='#284283' fill-opacity='0.55'>nunca, dicho, dejó, mesita, noche, pasear, bajo                                   <\/text>\n   <text x='174.22' y='553.16' font-size='9pt' font-family='Helvetica'>Tópico 01<\/text>\n   <text x='174.22' y='508.65' font-size='9pt' font-family='Helvetica'>Tópico 02<\/text>\n   <text x='174.22' y='464.14' font-size='9pt' font-family='Helvetica'>Tópico 05<\/text>\n   <text x='174.22' y='419.62' font-size='9pt' font-family='Helvetica'>Tópico 07<\/text>\n   <text x='174.22' y='375.11' font-size='9pt' font-family='Helvetica'>Tópico 08<\/text>\n   <text x='174.22' y='330.6' font-size='9pt' font-family='Helvetica'>Tópico 09<\/text>\n   <text x='174.22' y='286.09' font-size='9pt' font-family='Helvetica'>Tópico 10<\/text>\n   <text x='174.22' y='241.57' font-size='9pt' font-family='Helvetica'>Tópico 11<\/text>\n   <text x='174.22' y='197.06' font-size='9pt' font-family='Helvetica'>Tópico 23<\/text>\n   <text x='174.22' y='152.55' font-size='9pt' font-family='Helvetica'>Tópico 26<\/text>\n   <text x='174.22' y='108.03' font-size='9pt' font-family='Helvetica'>Tópico 31<\/text>\n   <polyline points='229.91,548.86 233.39,548.86' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='229.91,504.35 233.39,504.35' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='229.91,459.83 233.39,459.83' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='229.91,415.32 233.39,415.32' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='229.91,370.81 233.39,370.81' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='229.91,326.29 233.39,326.29' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='229.91,281.78 233.39,281.78' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='229.91,237.27 233.39,237.27' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='229.91,192.75 233.39,192.75' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='229.91,148.24 233.39,148.24' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='229.91,103.73 233.39,103.73' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='250.62,579.05 250.62,575.57' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='279.33,579.05 279.33,575.57' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='308.03,579.05 308.03,575.57' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='336.74,579.05 336.74,575.57' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='365.44,579.05 365.44,575.57' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='394.15,579.05 394.15,575.57' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='422.86,579.05 422.86,575.57' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='451.56,579.05 451.56,575.57' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='480.27,579.05 480.27,575.57' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='508.98,579.05 508.98,575.57' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='537.68,579.05 537.68,575.57' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='566.39,579.05 566.39,575.57' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='595.10,579.05 595.10,575.57' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='623.80,579.05 623.80,575.57' fill='none' stroke='#FCFCFC' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <text transform='translate(254.92,609.39) rotate(-90.00)' font-size='9pt' font-family='Helvetica'>Buby<\/text>\n   <text transform='translate(283.63,627.39) rotate(-90.00)' font-size='9pt' font-family='Helvetica'>Carmela<\/text>\n   <text transform='translate(312.34,624.72) rotate(-90.00)' font-size='9pt' font-family='Helvetica'>Dionisio<\/text>\n   <text transform='translate(341.04,648.74) rotate(-90.00)' font-size='9pt' font-family='Helvetica'>Don Rosario<\/text>\n   <text transform='translate(369.75,672.09) rotate(-90.00)' font-size='9pt' font-family='Helvetica'>Don Sacramento<\/text>\n   <text transform='translate(398.46,674.73) rotate(-90.00)' font-size='9pt' font-family='Helvetica'>El Anciano Militar<\/text>\n   <text transform='translate(427.16,678.76) rotate(-90.00)' font-size='9pt' font-family='Helvetica'>El Cazador Astuto<\/text>\n   <text transform='translate(455.87,690.77) rotate(-90.00)' font-size='9pt' font-family='Helvetica'>El Guapo Muchacho<\/text>\n   <text transform='translate(484.58,669.42) rotate(-90.00)' font-size='9pt' font-family='Helvetica'>El Odioso Señor<\/text>\n   <text transform='translate(513.28,615.39) rotate(-90.00)' font-size='9pt' font-family='Helvetica'>Fanny<\/text>\n   <text transform='translate(541.99,657.40) rotate(-90.00)' font-size='9pt' font-family='Helvetica'>Madame Olga<\/text>\n   <text transform='translate(570.70,612.74) rotate(-90.00)' font-size='9pt' font-family='Helvetica'>Paula<\/text>\n   <text transform='translate(599.40,614.07) rotate(-90.00)' font-size='9pt' font-family='Helvetica'>Sagra<\/text>\n   <text transform='translate(628.11,612.71) rotate(-90.00)' font-size='9pt' font-family='Helvetica'>Trudy<\/text>\n   <text x='6.97' y='160.76' font-size='15pt' font-family='Helvetica'>Personaje<\/text>\n   <circle cx='14.65' cy='177.62' r='2.67pt' fill='#1F77B4' fill-opacity='1' stroke='#1F77B4' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='14.65' cy='192.96' r='2.67pt' fill='#FF7F0E' fill-opacity='1' stroke='#FF7F0E' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='14.65' cy='208.3' r='2.67pt' fill='#2CA02C' fill-opacity='1' stroke='#2CA02C' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='14.65' cy='223.64' r='2.67pt' fill='#D62728' fill-opacity='1' stroke='#D62728' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='14.65' cy='238.99' r='2.67pt' fill='#9467BD' fill-opacity='1' stroke='#9467BD' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='14.65' cy='254.33' r='2.67pt' fill='#8C564B' fill-opacity='1' stroke='#8C564B' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='14.65' cy='269.67' r='2.67pt' fill='#E377C2' fill-opacity='1' stroke='#E377C2' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='14.65' cy='285.01' r='2.67pt' fill='#7F7F7F' fill-opacity='1' stroke='#7F7F7F' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='14.65' cy='300.36' r='2.67pt' fill='#BCBD22' fill-opacity='1' stroke='#BCBD22' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='14.65' cy='315.7' r='2.67pt' fill='#17BECF' fill-opacity='1' stroke='#17BECF' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='14.65' cy='331.04' r='2.67pt' fill='#AEC7E8' fill-opacity='1' stroke='#AEC7E8' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='14.65' cy='346.38' r='2.67pt' fill='#FFBB78' fill-opacity='1' stroke='#FFBB78' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='14.65' cy='361.73' r='2.67pt' fill='#98DF8A' fill-opacity='1' stroke='#98DF8A' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='14.65' cy='377.07' r='2.67pt' fill='#FF9896' fill-opacity='1' stroke='#FF9896' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <text x='29.29' y='181.92' font-size='9pt' font-family='Helvetica'>Buby<\/text>\n   <text x='29.29' y='197.26' font-size='9pt' font-family='Helvetica'>Carmela<\/text>\n   <text x='29.29' y='212.61' font-size='9pt' font-family='Helvetica'>Dionisio<\/text>\n   <text x='29.29' y='227.95' font-size='9pt' font-family='Helvetica'>Don Rosario<\/text>\n   <text x='29.29' y='243.29' font-size='9pt' font-family='Helvetica'>Don Sacramento<\/text>\n   <text x='29.29' y='258.63' font-size='9pt' font-family='Helvetica'>El Anciano Militar<\/text>\n   <text x='29.29' y='273.98' font-size='9pt' font-family='Helvetica'>El Cazador Astuto<\/text>\n   <text x='29.29' y='289.32' font-size='9pt' font-family='Helvetica'>El Guapo Muchacho<\/text>\n   <text x='29.29' y='304.66' font-size='9pt' font-family='Helvetica'>El Odioso Señor<\/text>\n   <text x='29.29' y='320' font-size='9pt' font-family='Helvetica'>Fanny<\/text>\n   <text x='29.29' y='335.35' font-size='9pt' font-family='Helvetica'>Madame Olga<\/text>\n   <text x='29.29' y='350.69' font-size='9pt' font-family='Helvetica'>Paula<\/text>\n   <text x='29.29' y='366.03' font-size='9pt' font-family='Helvetica'>Sagra<\/text>\n   <text x='29.29' y='381.37' font-size='9pt' font-family='Helvetica'>Trudy<\/text>\n   <text x='6.97' y='415.25' font-size='15pt' font-family='Helvetica'>Frecuencia<\/text>\n   <text x='6.97' y='436.85' font-size='15pt' font-family='Helvetica'>(por mil)<\/text>\n   <circle cx='20.13' cy='453.7' r='4.04pt' fill='#000000' fill-opacity='1' stroke='#000000' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='20.13' cy='453.7' r='4.04pt' fill='none' stroke='#000000' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='20.13' cy='471.72' r='6.11pt' fill='#000000' fill-opacity='1' stroke='#000000' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='20.13' cy='471.72' r='6.11pt' fill='none' stroke='#000000' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='20.13' cy='495.23' r='7.7pt' fill='#000000' fill-opacity='1' stroke='#000000' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <circle cx='20.13' cy='495.23' r='7.7pt' fill='none' stroke='#000000' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round'/>\n   <text x='40.27' y='458.01' font-size='9pt' font-family='Helvetica'>20<\/text>\n   <text x='40.27' y='476.03' font-size='9pt' font-family='Helvetica'>40<\/text>\n   <text x='40.27' y='499.53' font-size='9pt' font-family='Helvetica'>60<\/text>\n   <text x='6.97' y='47.74' font-size='12.86pt' font-family='Helvetica'>Principales términos de cada tópico por cada mil palabras y presencia<\/text>\n   <text x='6.97' y='66.26' font-size='12.86pt' font-family='Helvetica'>de cada personaje en cada tópico.<\/text>\n   <text x='6.97' y='23.42' font-size='17.14pt' font-weight='bold' font-family='Helvetica'>Tres sombreros de copa<\/text>\n  <\/g>\n <\/g>\n<\/svg>","js":null,"uid":"svg_8578b427_9b49_4656_8173_d477c088afc9","ratio":0.9,"settings":{"tooltip":{"css":".tooltip_SVGID_ { padding:5px;background:black;color:white;border-radius:2px;text-align:left; ; position:absolute;pointer-events:none;z-index:999;}","placement":"doc","opacity":0.9,"offx":10,"offy":10,"use_cursor_pos":true,"use_fill":false,"use_stroke":false,"delay_over":200,"delay_out":500},"hover":{"css":".hover_data_SVGID_ { fill:orange;stroke:black;cursor:pointer; }\ntext.hover_data_SVGID_ { stroke:none;fill:orange; }\ncircle.hover_data_SVGID_ { fill:orange;stroke:black; }\nline.hover_data_SVGID_, polyline.hover_data_SVGID_ { fill:none;stroke:orange; }\nrect.hover_data_SVGID_, polygon.hover_data_SVGID_, path.hover_data_SVGID_ { fill:orange;stroke:none; }\nimage.hover_data_SVGID_ { stroke:orange; }","reactive":true,"nearest_distance":null},"hover_inv":{"css":""},"hover_key":{"css":".hover_key_SVGID_ { fill:orange;stroke:black;cursor:pointer; }\ntext.hover_key_SVGID_ { stroke:none;fill:orange; }\ncircle.hover_key_SVGID_ { fill:orange;stroke:black; }\nline.hover_key_SVGID_, polyline.hover_key_SVGID_ { fill:none;stroke:orange; }\nrect.hover_key_SVGID_, polygon.hover_key_SVGID_, path.hover_key_SVGID_ { fill:orange;stroke:none; }\nimage.hover_key_SVGID_ { stroke:orange; }","reactive":true},"hover_theme":{"css":".hover_theme_SVGID_ { fill:orange;stroke:black;cursor:pointer; }\ntext.hover_theme_SVGID_ { stroke:none;fill:orange; }\ncircle.hover_theme_SVGID_ { fill:orange;stroke:black; }\nline.hover_theme_SVGID_, polyline.hover_theme_SVGID_ { fill:none;stroke:orange; }\nrect.hover_theme_SVGID_, polygon.hover_theme_SVGID_, path.hover_theme_SVGID_ { fill:orange;stroke:none; }\nimage.hover_theme_SVGID_ { stroke:orange; }","reactive":true},"select":{"css":".select_data_SVGID_ { fill:red;stroke:black;cursor:pointer; }\ntext.select_data_SVGID_ { stroke:none;fill:red; }\ncircle.select_data_SVGID_ { fill:red;stroke:black; }\nline.select_data_SVGID_, polyline.select_data_SVGID_ { fill:none;stroke:red; }\nrect.select_data_SVGID_, polygon.select_data_SVGID_, path.select_data_SVGID_ { fill:red;stroke:none; }\nimage.select_data_SVGID_ { stroke:red; }","type":"multiple","only_shiny":true,"selected":[]},"select_inv":{"css":""},"select_key":{"css":".select_key_SVGID_ { fill:red;stroke:black;cursor:pointer; }\ntext.select_key_SVGID_ { stroke:none;fill:red; }\ncircle.select_key_SVGID_ { fill:red;stroke:black; }\nline.select_key_SVGID_, polyline.select_key_SVGID_ { fill:none;stroke:red; }\nrect.select_key_SVGID_, polygon.select_key_SVGID_, path.select_key_SVGID_ { fill:red;stroke:none; }\nimage.select_key_SVGID_ { stroke:red; }","type":"single","only_shiny":true,"selected":[]},"select_theme":{"css":".select_theme_SVGID_ { fill:red;stroke:black;cursor:pointer; }\ntext.select_theme_SVGID_ { stroke:none;fill:red; }\ncircle.select_theme_SVGID_ { fill:red;stroke:black; }\nline.select_theme_SVGID_, polyline.select_theme_SVGID_ { fill:none;stroke:red; }\nrect.select_theme_SVGID_, polygon.select_theme_SVGID_, path.select_theme_SVGID_ { fill:red;stroke:none; }\nimage.select_theme_SVGID_ { stroke:red; }","type":"single","only_shiny":true,"selected":[]},"zoom":{"min":1,"max":1,"duration":300},"toolbar":{"position":"topright","pngname":"diagram","tooltips":null,"fixed":false,"hidden":[],"delay_over":200,"delay_out":500},"sizing":{"rescale":true,"width":1}}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: true</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>ag <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(dialogo <span class="sc">~</span> personaje_A, </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> tsc_d, </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">FUN =</span> paste,</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">collapse =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>nn <span class="ot">&lt;-</span> <span class="fu">unique</span>(zz<span class="sc">$</span>membership)</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>nn <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">table</span>(zz<span class="sc">$</span>membership)<span class="sc">&gt;</span>nclu)</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>nn <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(nn)</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>li <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>dt <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(nn)){</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">nchar</span>(nn[i])<span class="sc">==</span><span class="dv">1</span>){</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>    ze <span class="ot">&lt;-</span> <span class="st">"0"</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>  }<span class="cf">else</span>{</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>    ze <span class="ot">&lt;-</span> <span class="st">""</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>  } </span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>  nm <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"Tópico "</span>,ze, nn[i])</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>  li[[i]] <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">b"</span>,<span class="fu">as.character</span>(zz<span class="sc">$</span>word[zz<span class="sc">$</span>membership <span class="sc">==</span> nn[i]]), <span class="st">"</span><span class="sc">\\</span><span class="st">b"</span>)</span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(li)[[i]] <span class="ot">&lt;-</span> nm</span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>  tt <span class="ot">&lt;-</span> <span class="fu">as.character</span>(zz<span class="sc">$</span>word[zz<span class="sc">$</span>membership <span class="sc">==</span> nn[i]])[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>  tt <span class="ot">&lt;-</span> tt[<span class="sc">!</span> <span class="fu">is.na</span>(tt)]</span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>  tm <span class="ot">&lt;-</span> <span class="fu">paste</span>(tt, <span class="at">collapse=</span><span class="st">", "</span>)</span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>  dt <span class="ot">&lt;-</span> <span class="fu">rbind</span>(dt, <span class="fu">data.frame</span>(<span class="at">level1=</span>nm, <span class="at">terms=</span>tm))</span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a>dic <span class="ot">&lt;-</span> <span class="fu">dictionary</span>(li)</span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a>cp <span class="ot">&lt;-</span> <span class="fu">corpus</span>(ag, <span class="at">text_field =</span> <span class="st">"dialogo"</span>, <span class="at">docid_field =</span> <span class="st">"personaje_A"</span>)</span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true" tabindex="-1"></a><span class="fu">docvars</span>(cp, <span class="st">"personaje_A"</span>) <span class="ot">&lt;-</span> ag<span class="sc">$</span>personaje_A </span>
<span id="cb9-46"><a href="#cb9-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-47"><a href="#cb9-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtra las palabras clave empleando</span></span>
<span id="cb9-48"><a href="#cb9-48" aria-hidden="true" tabindex="-1"></a><span class="co"># el nuevo diccionario</span></span>
<span id="cb9-49"><a href="#cb9-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-50"><a href="#cb9-50" aria-hidden="true" tabindex="-1"></a>ft <span class="ot">&lt;-</span> <span class="fu">countKeywords</span>(cp, <span class="at">quietly =</span> T,</span>
<span id="cb9-51"><a href="#cb9-51" aria-hidden="true" tabindex="-1"></a>                    dic, </span>
<span id="cb9-52"><a href="#cb9-52" aria-hidden="true" tabindex="-1"></a>                    <span class="at">group.var =</span> <span class="st">"personaje_A"</span>, </span>
<span id="cb9-53"><a href="#cb9-53" aria-hidden="true" tabindex="-1"></a>                    <span class="at">rel.freq =</span> T)</span>
<span id="cb9-54"><a href="#cb9-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-55"><a href="#cb9-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-56"><a href="#cb9-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-57"><a href="#cb9-57" aria-hidden="true" tabindex="-1"></a>ft <span class="ot">&lt;-</span> ft[ft<span class="sc">$</span>frequency <span class="sc">&gt;</span> <span class="dv">0</span>,]</span>
<span id="cb9-58"><a href="#cb9-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-59"><a href="#cb9-59" aria-hidden="true" tabindex="-1"></a>ft <span class="ot">&lt;-</span> ft[ft<span class="sc">$</span>keyword<span class="sc">!=</span><span class="st">"da"</span>,]</span>
<span id="cb9-60"><a href="#cb9-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-61"><a href="#cb9-61" aria-hidden="true" tabindex="-1"></a>ft <span class="ot">&lt;-</span> ft[<span class="sc">!</span>ft<span class="sc">$</span>groups <span class="sc">%in%</span><span class="fu">c</span>(<span class="st">"CORO DE VIEJOS EXTRAÑOS"</span>,<span class="st">"OTROS"</span>,<span class="st">"LAS TRES"</span>,<span class="st">"TODOS"</span>,<span class="st">"UNOS"</span>),]</span>
<span id="cb9-62"><a href="#cb9-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-63"><a href="#cb9-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-64"><a href="#cb9-64" aria-hidden="true" tabindex="-1"></a>a1 <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(frequency <span class="sc">~</span> groups<span class="sc">+</span>level1, </span>
<span id="cb9-65"><a href="#cb9-65" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> ft, </span>
<span id="cb9-66"><a href="#cb9-66" aria-hidden="true" tabindex="-1"></a>                <span class="at">FUN =</span> sum)</span>
<span id="cb9-67"><a href="#cb9-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-68"><a href="#cb9-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-69"><a href="#cb9-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-70"><a href="#cb9-70" aria-hidden="true" tabindex="-1"></a>a1 <span class="ot">&lt;-</span> a1[a1<span class="sc">$</span>groups<span class="sc">!=</span><span class="st">"Introducción"</span>,]</span>
<span id="cb9-71"><a href="#cb9-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-72"><a href="#cb9-72" aria-hidden="true" tabindex="-1"></a>a2 <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(frequency <span class="sc">~</span> level1, </span>
<span id="cb9-73"><a href="#cb9-73" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> a1, </span>
<span id="cb9-74"><a href="#cb9-74" aria-hidden="true" tabindex="-1"></a>                <span class="at">FUN =</span> sum)</span>
<span id="cb9-75"><a href="#cb9-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-76"><a href="#cb9-76" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(a2) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"level1"</span>, <span class="st">"tot_freq"</span>)</span>
<span id="cb9-77"><a href="#cb9-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-78"><a href="#cb9-78" aria-hidden="true" tabindex="-1"></a>a1 <span class="ot">&lt;-</span> <span class="fu">merge</span>(a1, a2, <span class="at">by =</span> <span class="st">"level1"</span>)</span>
<span id="cb9-79"><a href="#cb9-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-80"><a href="#cb9-80" aria-hidden="true" tabindex="-1"></a>a1<span class="sc">$</span>per_topic <span class="ot">&lt;-</span> <span class="fu">round</span>(a1<span class="sc">$</span>frequency<span class="sc">/</span>a1<span class="sc">$</span>tot_freq<span class="sc">*</span><span class="dv">100</span>, <span class="dv">1</span>)</span>
<span id="cb9-81"><a href="#cb9-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-82"><a href="#cb9-82" aria-hidden="true" tabindex="-1"></a>a1<span class="sc">$</span>freq_mil <span class="ot">&lt;-</span> <span class="fu">round</span>(a1<span class="sc">$</span>frequency<span class="sc">*</span><span class="dv">1000</span>, <span class="dv">1</span>)</span>
<span id="cb9-83"><a href="#cb9-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-84"><a href="#cb9-84" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringi)</span>
<span id="cb9-85"><a href="#cb9-85" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb9-86"><a href="#cb9-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-87"><a href="#cb9-87" aria-hidden="true" tabindex="-1"></a>a1<span class="sc">$</span>groups <span class="ot">&lt;-</span> <span class="fu">stri_trans_totitle</span>(a1<span class="sc">$</span>groups)</span>
<span id="cb9-88"><a href="#cb9-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-89"><a href="#cb9-89" aria-hidden="true" tabindex="-1"></a>a1 <span class="ot">&lt;-</span> <span class="fu">merge</span>(a1, dt, <span class="at">by=</span><span class="st">"level1"</span>)</span>
<span id="cb9-90"><a href="#cb9-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-91"><a href="#cb9-91" aria-hidden="true" tabindex="-1"></a>a1<span class="sc">$</span>terms <span class="ot">&lt;-</span> <span class="fu">trimws</span>(a1<span class="sc">$</span>terms)</span>
<span id="cb9-92"><a href="#cb9-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-93"><a href="#cb9-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-94"><a href="#cb9-94" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(a1)){</span>
<span id="cb9-95"><a href="#cb9-95" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-96"><a href="#cb9-96" aria-hidden="true" tabindex="-1"></a>  nn <span class="ot">&lt;-</span> <span class="fu">max</span>(<span class="fu">nchar</span>(a1<span class="sc">$</span>terms))<span class="sc">-</span><span class="fu">nchar</span>(a1<span class="sc">$</span>terms[i])</span>
<span id="cb9-97"><a href="#cb9-97" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-98"><a href="#cb9-98" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(nn<span class="sc">&gt;</span><span class="dv">0</span>){</span>
<span id="cb9-99"><a href="#cb9-99" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-100"><a href="#cb9-100" aria-hidden="true" tabindex="-1"></a>    a1<span class="sc">$</span>terms[i] <span class="ot">&lt;-</span> <span class="fu">paste0</span>(a1<span class="sc">$</span>terms[i], <span class="fu">paste0</span>(<span class="fu">rep</span>(<span class="st">" "</span>,nn), <span class="at">collapse =</span> <span class="st">""</span>))</span>
<span id="cb9-101"><a href="#cb9-101" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-102"><a href="#cb9-102" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-103"><a href="#cb9-103" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-104"><a href="#cb9-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-105"><a href="#cb9-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-106"><a href="#cb9-106" aria-hidden="true" tabindex="-1"></a><span class="co"># Crea el gráfico básico</span></span>
<span id="cb9-107"><a href="#cb9-107" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">plotGrid</span>(a1, <span class="at">standardize =</span> F,<span class="at">axis =</span> <span class="st">"x"</span>,</span>
<span id="cb9-108"><a href="#cb9-108" aria-hidden="true" tabindex="-1"></a>         <span class="at">palette =</span> pal<span class="sc">$</span>cat.ggsci.d3_category_a<span class="fl">.20</span>,</span>
<span id="cb9-109"><a href="#cb9-109" aria-hidden="true" tabindex="-1"></a>         <span class="at">x=</span><span class="st">"groups"</span>, </span>
<span id="cb9-110"><a href="#cb9-110" aria-hidden="true" tabindex="-1"></a>         <span class="at">y=</span><span class="st">"level1"</span>, </span>
<span id="cb9-111"><a href="#cb9-111" aria-hidden="true" tabindex="-1"></a>         <span class="at">size=</span><span class="st">"freq_mil"</span>, </span>
<span id="cb9-112"><a href="#cb9-112" aria-hidden="true" tabindex="-1"></a>         <span class="at">color=</span><span class="st">"groups"</span>, </span>
<span id="cb9-113"><a href="#cb9-113" aria-hidden="true" tabindex="-1"></a>         <span class="at">width_svg =</span> <span class="dv">9</span>, <span class="at">height_svg =</span> <span class="dv">10</span>, </span>
<span id="cb9-114"><a href="#cb9-114" aria-hidden="true" tabindex="-1"></a>         <span class="at">leg.size=</span><span class="st">"Frecuencia</span><span class="sc">\n</span><span class="st">(por mil)"</span>, </span>
<span id="cb9-115"><a href="#cb9-115" aria-hidden="true" tabindex="-1"></a>         <span class="at">leg.color=</span><span class="st">"Personaje"</span>,</span>
<span id="cb9-116"><a href="#cb9-116" aria-hidden="true" tabindex="-1"></a>         <span class="at">grid.color=</span><span class="st">"grey99"</span>, <span class="at">interactive =</span> F)</span>
<span id="cb9-117"><a href="#cb9-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-118"><a href="#cb9-118" aria-hidden="true" tabindex="-1"></a><span class="co"># Añade títulos</span></span>
<span id="cb9-119"><a href="#cb9-119" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Tres sombreros de copa"</span>,</span>
<span id="cb9-120"><a href="#cb9-120" aria-hidden="true" tabindex="-1"></a>              <span class="at">subtitle=</span><span class="st">"Principales términos de cada tópico por cada mil palabras y presencia</span><span class="sc">\n</span><span class="st">de cada personaje en cada tópico."</span>)<span class="sc">+</span></span>
<span id="cb9-121"><a href="#cb9-121" aria-hidden="true" tabindex="-1"></a>         <span class="fu">theme</span>(<span class="at">plot.title.position =</span> <span class="st">"plot"</span>, <span class="at">title=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">20</span>))</span>
<span id="cb9-122"><a href="#cb9-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-123"><a href="#cb9-123" aria-hidden="true" tabindex="-1"></a><span class="co"># Añade el texto de la lista de palabras</span></span>
<span id="cb9-124"><a href="#cb9-124" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">y=</span>level1, </span>
<span id="cb9-125"><a href="#cb9-125" aria-hidden="true" tabindex="-1"></a>                       <span class="at">label=</span>terms), </span>
<span id="cb9-126"><a href="#cb9-126" aria-hidden="true" tabindex="-1"></a>                   <span class="at">x=</span><span class="sc">-</span><span class="fl">1.5</span>, </span>
<span id="cb9-127"><a href="#cb9-127" aria-hidden="true" tabindex="-1"></a>                   <span class="at">color=</span><span class="st">"#284283"</span>, <span class="co"># grey70 </span></span>
<span id="cb9-128"><a href="#cb9-128" aria-hidden="true" tabindex="-1"></a>                   <span class="at">size=</span><span class="fl">3.8</span>, <span class="co"># 3</span></span>
<span id="cb9-129"><a href="#cb9-129" aria-hidden="true" tabindex="-1"></a>                   <span class="at">hjust=</span><span class="dv">0</span>, </span>
<span id="cb9-130"><a href="#cb9-130" aria-hidden="true" tabindex="-1"></a>                   <span class="at">vjust=</span><span class="dv">2</span>, <span class="co"># 3.5</span></span>
<span id="cb9-131"><a href="#cb9-131" aria-hidden="true" tabindex="-1"></a>                   <span class="at">family=</span><span class="st">"Homemade Apple"</span>) <span class="co"># Homemade Apple</span></span>
<span id="cb9-132"><a href="#cb9-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-133"><a href="#cb9-133" aria-hidden="true" tabindex="-1"></a><span class="co"># Evita que se corten las etiquetas</span></span>
<span id="cb9-134"><a href="#cb9-134" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">coord_cartesian</span>(<span class="at">clip =</span> <span class="st">'off'</span>)</span>
<span id="cb9-135"><a href="#cb9-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-136"><a href="#cb9-136" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualiza el gráfico interactivo              </span></span>
<span id="cb9-137"><a href="#cb9-137" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggiraph)</span>
<span id="cb9-138"><a href="#cb9-138" aria-hidden="true" tabindex="-1"></a><span class="fu">girafe</span>(<span class="at">ggobj =</span> p, <span class="at">width =</span> <span class="dv">9</span>, <span class="at">height =</span> <span class="dv">10</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="etiquetado-léxico" class="level2">
<h2 class="anchored" data-anchor-id="etiquetado-léxico">Etiquetado léxico</h2>
<p>Podemos ir un paso más allá en la identificación de tópicos con la ayuda del etiquetado de partes del discurso (<em>POS Tagging</em>, en su sigla en inglés). Se trata de un proceso que consiste en asignar a cada palabra de un texto una etiqueta que indica su categoría gramatical. Para ello, emplearemos el paquete <code>udpipe</code> y el modelo previamente entrenado en español para identificar las palabras de cada diálogo. Una vez etiquetadas, seleccionaremos solamente los sustantivos y adjetivos. Con esta información, tendremos más insumos para enriquecer nuestra comprensión de los tópicos presentes en la obra.</p>
<p>El código abajo lleva a cabo dicho proceso y nos enseña los resultados:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Código</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crea una variable de identificación</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>tsc_d<span class="sc">$</span>id <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(tsc_d)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convierte en corpus el dataframe sin</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="co"># los textos de introducción</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>cs <span class="ot">&lt;-</span> <span class="fu">corpus</span>(tsc_d[tsc_d<span class="sc">$</span>personaje_A<span class="sc">!=</span><span class="st">"Introducción"</span>,], </span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">text_field =</span> <span class="st">"dialogo"</span>,</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">docid_field =</span> <span class="st">"id"</span>)</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Abre el paquete udpipe para realizar </span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="co"># el etiquetado de los textos</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(udpipe)</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Descarga el modelo previamente entrenado</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="co"># (solo es necesario hacerlo una vez)</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>m_es   <span class="ot">&lt;-</span> <span class="fu">udpipe_download_model</span>(<span class="at">language =</span> <span class="st">"spanish"</span>)</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Carga el modelo</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>m_es <span class="ot">&lt;-</span> <span class="fu">udpipe_load_model</span>(m_es)</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Genera las anotaciones y etiquetas</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">udpipe_annotate</span>(m_es, </span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>                     <span class="at">x=</span>cs, </span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>                     <span class="at">doc_id =</span> <span class="fu">docnames</span>(cs)) <span class="sc">|&gt;</span> </span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="sc">|&gt;</span> </span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>sentence)</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Selecciona solo los sustantivos y adjetivos</span></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d[d<span class="sc">$</span>upos<span class="sc">%in%</span><span class="fu">c</span>(<span class="st">"NOUN"</span>,<span class="st">"ADJ"</span>),]</span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Añade los personajes</span></span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">merge</span>(d, </span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>           tsc_d[,<span class="fu">c</span>(<span class="st">"id"</span>,<span class="st">"personaje_A"</span>)], </span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>           <span class="at">by.x =</span> <span class="st">"doc_id"</span>, </span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>           <span class="at">by.y=</span><span class="st">"id"</span>)</span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtra los campos deseados</span></span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d[,<span class="fu">c</span>(<span class="st">"personaje_A"</span>,<span class="st">"lemma"</span>)]</span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Uniformiza y agrega las frecuencias</span></span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d[<span class="fu">tolower</span>(d<span class="sc">$</span>lemma)<span class="sc">!=</span><span class="st">"dionisio"</span>,]</span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a>d<span class="sc">$</span>freq <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a>ag <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(freq <span class="sc">~</span> personaje_A<span class="sc">+</span>lemma, </span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> d, </span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a>                <span class="at">FUN =</span> sum)</span>
<span id="cb10-50"><a href="#cb10-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-51"><a href="#cb10-51" aria-hidden="true" tabindex="-1"></a><span class="co"># Selecciona solamente los términos</span></span>
<span id="cb10-52"><a href="#cb10-52" aria-hidden="true" tabindex="-1"></a><span class="co"># que aparezcan más de una vez</span></span>
<span id="cb10-53"><a href="#cb10-53" aria-hidden="true" tabindex="-1"></a>ag <span class="ot">&lt;-</span> ag[ag<span class="sc">$</span>freq<span class="sc">&gt;</span><span class="dv">1</span>,]</span>
<span id="cb10-54"><a href="#cb10-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-55"><a href="#cb10-55" aria-hidden="true" tabindex="-1"></a><span class="co"># Ordena por personaje y frecuencia</span></span>
<span id="cb10-56"><a href="#cb10-56" aria-hidden="true" tabindex="-1"></a><span class="co"># decreciente</span></span>
<span id="cb10-57"><a href="#cb10-57" aria-hidden="true" tabindex="-1"></a>ag <span class="ot">&lt;-</span> ag[<span class="fu">order</span>(ag<span class="sc">$</span>personaje_A, <span class="sc">-</span>ag<span class="sc">$</span>freq),]</span>
<span id="cb10-58"><a href="#cb10-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-59"><a href="#cb10-59" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualiza los resultados</span></span>
<span id="cb10-60"><a href="#cb10-60" aria-hidden="true" tabindex="-1"></a><span class="fu">reactable</span>(ag, <span class="at">resizable =</span> T, <span class="at">sortable=</span>T)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="reactable html-widget html-fill-item" id="htmlwidget-2b494a7dd550cacb3148" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-2b494a7dd550cacb3148">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"personaje_A":["BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","BUBY","CARMELA","CARMELA","CARMELA","CARMELA","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DIONISIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON ROSARIO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","DON SACRAMENTO","EL ANCIANO MILITAR","EL ANCIANO MILITAR","EL ANCIANO MILITAR","EL ANCIANO MILITAR","EL ANCIANO MILITAR","EL ANCIANO MILITAR","EL ANCIANO MILITAR","EL ANCIANO MILITAR","EL ANCIANO MILITAR","EL CAZADOR ASTUTO","EL CAZADOR ASTUTO","EL CAZADOR ASTUTO","EL CAZADOR ASTUTO","EL GUAPO MUCHACHO","EL GUAPO MUCHACHO","EL GUAPO MUCHACHO","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","EL ODIOSO SEÑOR","FANNY","FANNY","FANNY","FANNY","FANNY","FANNY","FANNY","FANNY","FANNY","FANNY","FANNY","FANNY","FANNY","FANNY","FANNY","FANNY","FANNY","FANNY","LAS TRES","MADAME OLGA","MADAME OLGA","MADAME OLGA","MADAME OLGA","MADAME OLGA","MADAME OLGA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","PAULA","SAGRA","SAGRA","TRUDY"],"lemma":["señor","buen","izquierda","dinero","muchacha","verdad","vez","lado","muchacho","negro","cariñoso","compañero","habitación","linda","malabarista","malo","puerta","rico","suerte","brazo","cruce","cuarto","fácil","gordo","hombre","mariposa","noche","tiempo","vida","abra","abrir","aire","amigo","barato","bonita","caballero","chica","claro","cogido","color","compás","cosa","coser","dentro","difícil","Entra","escena","flor","hotel","lindo","máquina","mato","mejor","mismo","muerte","novio","pecho","provincia","relicario","rincón","sofá","sombrero","teléfono","timbre","trajecito","triste","voz","puerta","paquete","sombrero","suelo","sombrero","cabeza","cama","señor","niño","teléfono","negro","noche","puerta","año","hotel","mano","mismo","novia","agua","habitación","biombo","bota","copa","gracia","mío","pobre","amor","aparato","auricular","calle","caso","feliz","hora","izquierda","junto","voz","bonito","bueno","cerilla","cuarto","hombre","música","pueblo","ratón","retrato","señorita","verdad","balcón","botella","caballo","cara","chaquet","día","espejo","favor","frío","huésped","huevo","mar","mejor","monaguillo","mujer","padre","pan","pequeño","tiempo","actitud","aire","alegría","beso","bicicleta","blanco","buen","caballero","cartera","claro","frente","frito","gente","grande","inicial","lado","lápiz","lucecita","magnífico","manta","modesto","momento","mundo","novio","Pausa","piri","puesto","pulga","rojo","señora","ser","serio","suelo","tontería","último","vez","vuelta","adoro","alegre","almohada","amigo","ángel","armario","azorado","baila","barba","barbudo","bolsillo","bonita","borracho","brazo","buenas","camino","carraca","casa","cocina","coger","comedor","cosa","dedo","difícil","dinero","dueño","enfadado","escopeta","felicidad","fiesta","fin","fuerte","gato","gran","grito","hago","hoop","idiota","juego","malabar","maldito","mamá","mañana","maravilloso","mesita","micrófono","mirar","mono","morir","muchacha","muchacho","número","oiga","ojo","once","pantalón","pantorrilla","papá","papel","paquete","parte","pecho","perfil","pescador","pierna","primero","querubín","quiosco","ratito","ridículo","sable","sala","salamandra","seguida","terrible","timbre","tren","triste","viejo","vista","mío","blanco","huésped","niño","cama","puerta","balcón","bota","cornetín","lucecita","beso","bonito","cuarto","mejor","noche","rojo","amor","bolsillo","día","feliz","foro","habitación","hijo","madera","mano","mismo","padre","puerto","señorita","sombrero","virtuoso","vista","año","bandera","bueno","caballito","calle","camarero","capullito","carita","casa","causa","cerilla","coche","comunicación","contento","criada","criado","embargo","farola","flor","frente","hermoso","historia","hora","leche","luz","maleta","miga","montaña","negro","novia","pan","papá","paquete","pie","pijama","pobre","salamandra","señor","siete","sombrerera","teléfono","niña","caballero","casa","bohemio","cuarto","niño","persona","conejo","mano","retrato","carraca","noche","olor","triste","cadáver","cama","cromo","decente","familia","frito","grande","honrado","huevo","lluvia","mismo","pobre","puerta","rato","ratón","señor","señora","sofá","uniforme","alegría","auricular","calle","cena","centenario","comunión","corazón","cuadro","gesto","gran","habitación","hombre","hotel","libro","llorar","mundo","pálido","pan","pared","patata","pequeño","piano","primero","rueda","sala","sobrinito","tafetán","teléfono","tenedor","tono","visita","señorita","cruz","carambo","cruce","gran","imposible","izquierda","sombrero","trabajo","conejo","señorita","suelo","cama","barba","rubio","señor","señorita","bolsillo","billete","par","dinero","bombón","campo","puerta","trigo","año","azul","beso","bocadillo","cartera","casa","finca","flor","medio","pena","provincia","rico","señor","agua","baño","billetito","boda","bolsa","bonito","buen","chiquita","cierto","claro","cuarto","estira","fin","foca","ir","junto","liga","lleno","mejor","nenita","ramo","regalar","regalo","trapo","vaca","vuelta","cruz","izquierda","bonito","mismo","ojo","señor","verdad","vez","alto","bolso","cama","empujón","hijo","manera","pañuelo","puerta","teléfono","timbre","Laralí","artista","marido","mujer","copa","gran","hombre","puerta","caballero","novia","señor","verdad","vez","sombrero","triste","día","mejor","cosa","izquierda","negro","habitación","maravilloso","novio","amigo","buen","casa","compañero","dinero","foro","gente","guapo","malo","mar","ojo","simpático","solo","suelo","agua","amor","arena","balcón","billete","blanco","boda","brazo","carraca","cartera","caso","chico","copa","divertido","gracia","junto","malabar","malabarista","medio","mismo","monaguillo","número","pequeño","puerto","retrato","alegría","artista","beso","cabeza","cangrejo","chaquet","cuarto","cura","demasiado","desgraciado","difícil","frío","golpe","grito","juego","mano","mío","muchacha","noche","paz","pie","playa","posible","preciso","provincia","puesto","raya","sofá","tarde","tiempo","tren","volcán","abrigo","aire","alegre","alto","amiga","año","arreglo","barca","botella","brutote","café","castillo","cerrado","champaña","chica","ciudad","coge","comedor","contentar","cre","cristal","cuello","demás","disgusto","distinto","familia","final","fuerte","gana","gramófono","gran","iglesia","imbécil","joven","lástima","mamá","miedo","militar","nombre","papá","parte","partenaire","pausa","población","rato","tonto","trigo","trompeta","vestido","viaje","viejo","conejo","señor","sombrero"],"freq":[13,7,7,6,6,6,6,5,5,5,4,4,4,4,4,4,4,4,4,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,2,2,2,17,13,13,12,11,11,10,10,10,9,9,9,9,9,8,8,7,7,7,7,7,7,6,6,6,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,8,7,7,7,6,6,5,5,5,5,4,4,4,4,4,4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,16,9,7,6,6,6,6,5,5,5,4,4,4,4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,7,3,2,2,2,2,2,2,2,4,3,3,2,2,2,2,11,9,6,6,5,4,4,4,4,3,3,3,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,7,4,3,3,3,3,3,3,2,2,2,2,2,2,2,2,2,2,6,3,3,3,2,2,2,16,13,11,11,11,11,10,10,9,9,7,7,7,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]},"columns":[{"id":"personaje_A","name":"personaje_A","type":"character"},{"id":"lemma","name":"lemma","type":"character"},{"id":"freq","name":"freq","type":"numeric"}],"resizable":true,"dataKey":"dc04eea90a257e3446f7339c75c0a66c"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<!-- ## Análisis de sentimiento -->
<!-- El análisis de sentimiento será la última técnica considerada en este curso. Se trata de un proceso que busca identificar y cuantificar la actitud expresada en un texto. Existen diversas maneras de llevar a cabo este análisis, pero una de las más comunes es la de emplear diccionarios de palabras previamente etiquetadas como positivas, negativas o neutras.  -->
<!-- Los ejemplos empleados aquí no emplean la Inteligencia Artificial para llevar a cabo el análisis de sentimiento. En la actualidad, resulta mucho más fácil y provechoso emplear modelos de aprendizaje automático para llevar a cabo esta tarea. No obstante,  -->
<!-- En el ejemplo abajo, hemos realizado la clasificación manual de cada diálogo como positivo, negativo o neutro. El paso siguiente ha sido emplear el paquete `syuzhet` para analizar los diálogos de la obra y determinar su "valencia". Finalmente, agregamos la información por personaje para saber su polaridad emocional. El código abajo lleva a cabo dicho proceso y nos enseña los resultados: -->
<!-- ```{r} -->
<!-- # Diálogos positivos -->
<!-- pos <- c(4,5,12,19,32,58,60,67,68,70,71,74,76,77,78,80,92, -->
<!--          98,111,172,229,230,235,236,260,264,269,306,309, -->
<!--          321,345,351,356,357,359,365,385,389,406,415,424, -->
<!--          428,432,436,438,447,448,449,464,472,474,482,485, -->
<!--          486,487,490,491,494,496,500,515,518,519,521,528, -->
<!--          533,538,577,617,621,627,629,648,653,716,741,757, -->
<!--          769,770,811,834) -->
<!-- # Diálogos negativos -->
<!-- neg <- c(7,17,22,47,49,53,61,63,64,72,96,108,112,113,120, -->
<!--          121,122,123,141,145,149,147,171,175,176,177,179, -->
<!--          181,185,187,188,190,203,204,205,220,254,258,259, -->
<!--          261,262,263,267,282,284,285,286,289,290,291,292, -->
<!--          311,312,314,322,326,334,370,375,376,396,405,418, -->
<!--          457,458,459,461,471,473,476,481,513,544,546,547, -->
<!--          549,551,552,553,555,567,575,584,585,587,588:596, -->
<!--          598,599,602,608,609,619,647,671,672,673,679,680, -->
<!--          681,683,684,685,687,688,693,697,715,725,737,751, -->
<!--          752,774,776,778,791,800,802,803,820,821,831,837) -->
<!-- # Identifica las valencias -->
<!-- tsc_d$valence <- 0 -->
<!-- tsc_d$valence[pos] <- 1 -->
<!-- tsc_d$valence[neg] <- -1 -->
<!-- # Agrega la información por personaje -->
<!-- ag1 <- aggregate(valence ~ personaje_A,  -->
<!--                  data = tsc_d,  -->
<!--                  FUN = sum) -->
<!-- # Carga el paquete syuzhet -->
<!-- library(syuzhet) -->
<!-- # Obtiene las emociones -->
<!-- emo <- get_nrc_sentiment(tsc_d$dialogo,  -->
<!--                          language = "spanish") -->
<!-- emo$negative <- emo$negative * -1 -->
<!-- # Crea una variable de valencia neta -->
<!-- # entre emociones positivas y negativas -->
<!-- emo$emo <- emo$positive + emo$negative -->
<!-- # Estandariza la variable para  -->
<!-- # 1 positivo, 0 neutro y -1 negativo -->
<!-- emo$emo2 <- ifelse(emo$emo == 0, 0,  -->
<!--                    ifelse(emo$emo > 0, 1,  -->
<!--                           -1)) -->
<!-- # Agrega la información por personaje -->
<!-- emo$person <- tsc_d$personaje_A -->
<!-- tsc_d$emo <- emo$emo2 -->
<!-- ag2 <- aggregate(emo ~ personaje_A, -->
<!--                  data = tsc_d,  -->
<!--                  FUN = sum) -->
<!-- # Fusiona las dos tablas para  -->
<!-- # comparar la valencia manual y -->
<!-- # la automática por diccionario -->
<!-- agg <- merge(ag1, ag2, by="personaje_A") -->
<!-- # Nombre las variables para facilitar -->
<!-- # la lectura -->
<!-- names(agg) <- c("Personaje",  -->
<!--                 "Manual", -->
<!--                 "Diccionario") -->
<!-- # Visualiza los resultados -->
<!-- reactable(agg,  -->
<!--           resizable = T,  -->
<!--           sortable=T) -->
<!-- ``` -->
<!-- <br> -->
<!-- Como vemos, los resultados no son muy animadores. La codificación manual ha arrojado resultados muy distintos a la automática por medio de diccionario, especialmente para personajes centrales como Dionisio y Paula. En parte esto ocurre porque se trata de un texto humorístico y sarcástico, lo que dificulta la clasificación de los diálogos en positivos o negativos. Pero una gran parte de la diferencia viene de la interpretación de respuestas negativas -como "No, no lo puedo.", por ejemplo- como conteniendo carga negativa desde la perspectiva emocional o -"¿Y cuánto dinero llevaba usted en la cartera?", como positiva.  -->
<!-- Quizás la mejor manera de abordar este problema sea la de emplear un enfoque mixto, que combine la codificación manual con la automática, por medio de un modelo de aprendizaje automático, para obtener una visión más completa de la valencia emocional de los personajes. -->



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">Referencias</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-wasserman1994" class="csl-entry" role="listitem">
Wasserman, Stanley, y Katherine Faust. 1994. <em>Social Network Analysis: Methods and Applications</em>. Cambridge: Cambridge University Press.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© Copyright 2025, Rodrigo Rodrigues-Silveira</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>