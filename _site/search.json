[
  {
    "objectID": "index.html#la-regenta",
    "href": "index.html#la-regenta",
    "title": "filoRAnálisis de textos literarios con R",
    "section": "La Regenta",
    "text": "La Regenta\nanalisis.html"
  },
  {
    "objectID": "index.html#tres-sombreros-de-copa",
    "href": "index.html#tres-sombreros-de-copa",
    "title": "filoRAnálisis de textos literarios con R",
    "section": "Tres sombreros de copa",
    "text": "Tres sombreros de copa"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "Analisis.html",
    "href": "Analisis.html",
    "title": "La RegentaAnálisis de la novela en R",
    "section": "",
    "text": "El R permite diferentes tipos de análisis de textos.\nDos tipos de texto. De un lado, una novela. De otro, una obra de teatro. Abren la posibilidad de comparar los resultados de los análisis de textos literarios."
  },
  {
    "objectID": "Analisis.html#introducción",
    "href": "Analisis.html#introducción",
    "title": "La RegentaAnálisis de la novela en R",
    "section": "",
    "text": "El R permite diferentes tipos de análisis de textos.\nDos tipos de texto. De un lado, una novela. De otro, una obra de teatro. Abren la posibilidad de comparar los resultados de los análisis de textos literarios."
  },
  {
    "objectID": "Analisis.html#análisis-de-la-novela-la-regenta",
    "href": "Analisis.html#análisis-de-la-novela-la-regenta",
    "title": "La RegentaAnálisis de la novela en R",
    "section": "Análisis de la novela “La Regenta”",
    "text": "Análisis de la novela “La Regenta”\nAbrimos los datos\n\n# carga los datos de \"La Regenta\"\nload(\"../textos/Regenta.RData\")\n\nHacemos un análisis sumario de los capítulos\n\n# carga el paquete quanteda para \n# algunos análisis\nlibrary(quanteda)\n\n# convierte en un documento corpus\ncp &lt;- corpus(regc, text_field = \"texto\")\n\n# define los capítulos como nombre\n# de los documentos\ndocnames(cp) &lt;- regc$capitulo\n\n# muestra estadísticas básicas de\n# cada capítulo\nsummary(cp)\n\nCorpus consisting of 32 documents, showing 32 documents:\n\n          Text Types Tokens Sentences   parte      capitulo\n  001 - Título    16     16         1  Título  001 - Título\n 002 - Prólogo  1661   4649       101 Prólogo 002 - Prólogo\n            01  3753  14662       466  Tomo I            01\n            02  2236   8029       298  Tomo I            02\n            03  2194   8395       384  Tomo I            03\n            04  2448   9121       360  Tomo I            04\n            05  3104  13640       542  Tomo I            05\n            06  2312   8171       347  Tomo I            06\n            07  2194   9012       391  Tomo I            07\n            08  3178  13095       581  Tomo I            08\n            09  2832  10992       492  Tomo I            09\n            10  2096   8184       390  Tomo I            10\n            11  3026  13356       529  Tomo I            11\n            12  4169  18985       717  Tomo I            12\n            13  3611  17074       541  Tomo I            13\n            14  1980   8172       345  Tomo I            14\n            15  2869  13484       531  Tomo I            15\n            16  4022  17978       543 Tomo II            16\n            17  2190   9804       332 Tomo II            17\n            18  2793  10446       311 Tomo II            18\n            19  2947  12333       407 Tomo II            19\n            20  3753  16462       626 Tomo II            20\n            21  3681  16554       676 Tomo II            21\n            22  3256  14615       522 Tomo II            22\n            23  2087   8302       308 Tomo II            23\n            24  2031   8248       317 Tomo II            24\n            25  2343  10096       476 Tomo II            25\n            26  2812  12811       534 Tomo II            26\n            27  3122  14099       642 Tomo II            27\n            28  2889  13290       491 Tomo II            28\n            29  3532  18228       716 Tomo II            29\n            30  3724  21083       843 Tomo II            30\n\n\nHacemos un análisis de frecuencia de palabras\n\n# convierte en una matriz de términos\ndtm &lt;- dfm(tokens(cp, remove_punct = TRUE, \n                  remove_numbers = TRUE, \n                  remove_symbols = TRUE), \n           tolower = TRUE)\n\ndtm &lt;- dfm_remove(dtm, c(stopwords(\"es\"),\"si\"))\n\n# muestra las 50 palabras más frecuentes\ntopfeatures(dtm, 50)\n\n      don       ana     usted magistral   aquella     aquel    álvaro    víctor \n     1791       897       822       769       761       733       490       489 \n     casa   regenta     señor   vetusta      allí       ser   después      doña \n      482       468       458       455       450       437       417       414 \n    decía       vez     mesía     podía     ahora      bien    fermín       así \n      414       392       373       369       364       353       350       347 \n     ojos       dos       iba   siempre    quería       tan     menos      dijo \n      347       334       333       332       328       327       327       326 \n     vida     mismo    hombre      dios     veces quintanar     mundo     mujer \n      324       320       315       310       307       305       290       286 \n   tiempo     todas      alma       ver     sabía       día   parecía      amor \n      283       282       281       280       279       271       267       267 \n  aquello     decir \n      265       259 \n\n\ndiccionario\n\ndic &lt;- dictionary(\n  list(\n    familia=c(\"padre\", \"madre\", \"hijo\", \"hija\", \"hermano\", \"hermana\"),\n    sociedad=c(\"vetustense\",\"señor\",\"puebl\",\"ciudad\",\"conversa\",\"amig\"),\n    iglesia=c(\"cura\",\"obispo\",\"sacerdo\",\"confesión\",\"religi\",\"canónig\",\"capilla\"),\n    economia=c(\"dinero\",\"deuda\",\"negoci\",\"trabaj\",\"fortuna\",\"rico\",\"rica\"),\n    sentimientos=c(\"culpa\",\"alegr\",\"amor\",\"remordimiento\",\"ridículo\",\"vergüenza\",\"triste\"),\n    misticismo=c(\"Fermín de Pas\",\"Fermín\",\"\\\\bde Pas\\\\b\", \"magistral\", \"espirit\",\"dios\"),\n    adulterio=c(\"Álvaro Mesía\",\"Álvaro\",\"Mesía\",\"Presidente del Casino\", \"marido\", \"placer\", \"pasión\", \"amante\",\"amorío\"),\n    espacio=c(\"casino\",\"catedral\",\"vivero\",\"casa\",\"espolón\",\"teatro\"),\n    tiempo=c(\"otoño\",\"verano\",\"invierno\",\"primavera\",\"semana santa\",\"navidad\")\n  )\n)\n    \nlibrary(tenet)\n    \ntagCorpus(cp, dic, reshape.to = \"sentence\")\n\n\n\n\n\n\n\ndicf &lt;- dictionary(\n  list(\n    familia=c(\"padre\", \"madre\", \"hijo\", \"hija\", \"hermano\", \"hermana\"),\n    sociedad=c(\"vetustense\",\"señor\",\"puebl\",\"ciudad\",\"conversa\",\"amig\")\n))\n\n\nplotLexDiv(cp, dicf, title =\"La Regenta\", subtitle = \"Familia e iglesia en la novela\", palette = pal$cat.awtools.spalette.6[1:2])\n\n\n\n\n\nxy &lt;- countKeywords(cp, \n                    dic, \n                    rel.freq = F, \n                    quietly = TRUE)\n\n# Elimina los términos no encontrados\nxy &lt;- xy[xy$frequency&gt;0,]\n\nxy$groups &lt;- NULL\n\nforceDirectedTree(xy,value_col = \"frequency\",\n                  palette = pal$cat.awtools.bpalette.16, \n                  max.radius = 50, \n                  height = 500)\n\n\n\n\n\nlo mismo se puede ver así:\n\nplotVoronoiTree(data = xy,\n                value_col = \"frequency\")\n\n\n\n\n\ndd\n\ndich &lt;- dictionary(\n  list(\n    hombres=\n      list(\n           Alvaro=c(\"Álvaro Mesía\",\n                    \"Álvaro\",\n                    \"Mesía\",\n                    \"presidente del casino\"),\n           Saturnino=c(\"Saturnino Bermúdez\",\n                       \"Saturnino\",\n                       \"Bermúdez\",\n                       \"Saturno\",\n                       \"Saturnillo\"),\n           Fermin=c(\"Magistral\",\n                    \"Provisor\",\n                    \"Fermín\",\n                    \"De Pas\",\n                    \"Fermín de Pas\",\n                    \"Magistral\"),\n           Victor=c(\"Víctor\",\n                    \"Víctor Quintanar\",\n                    \"Quintanar\"),\n           Otros=c(\"Custodio\",\n                   \"Frígilis\",\n                   \"Anacleto\",\n                   \"Carlos\",\n                   \"Orgaz\",\n                   \"Bismark\",\n                   \"Celedonio\",\n                   \"monaguillo\",\n                   \"Pedro\",\n                   \"Palomo\",\n                   \"Cayetano\",\n                   \"Cayetano Ripamilán\",\n                   \"Ripamilán\",\n                   \"Cenceño\",\n                   \"Pompeyo\",\n                   \"Pompeyo Guimarán\",\n                   \"Guimarán\",\n                   \"Paco\",\n                   \"Paquito\",\n                   \"don Santos\")\n           ),\n    mujeres=\n      list(\n        Ana=c(\"Ana\",\n              \"Anita\",\n              \"Regenta\"),\n        Obdulia=c(\"Obdulia\",\n                  \"Obdulia Fandiño\",\n                  \"Fandiño\",\n                  \"Obdulita\"),\n        Otras=c(\"Visitación\",\n                \"Petra\",\n                \"Camila\",\n                \"doña Anuncia\",\n                \"Anuncita\",\n                \"Águeda\",\n                \"doña Paula\",\n                \"marquesa\",\n                \"doña Petronila\")\n    )\n  )\n)\n\n\n\n\nxp &lt;- countKeywords(cp, \n                    dich, \n                    rel.freq = F, \n                    group.var = \"capitulo\",\n                    quietly = TRUE)\n\n# Agrega los resultados por los dos niveles\n# de código del diccionario\nxx &lt;- aggregate(list(frequency=xp$frequency), \n                by=list(groups=xp$groups, \n                        level1=xp$level2), \n                sum, na.rm=T)\n\n# Elimina los términos no encontrados\n# en el corpus\nxx &lt;- xx[xx$frequency&gt;0,]\n\n# Ordena por capítulo\nxx &lt;- xx[order(xx$groups),]\n\nplotSankey(xx, \n           from = \"level1\", \n           to=\"groups\", \n           value = \"frequency\", \n           opacity = 0.05)\n\n\n\n\n\ndddd\n\n# Reorganiza el corpus según\n# sentencias o frases\ncs &lt;- corpus_reshape(cp, \"sentences\")\n\n# Calcula la frecuencia en la\n# que dos codigos del mismo \n# diccionario aparecen juntos\n# en cada frase\nd1 &lt;- matchCodes(cs, \n                dic, \n                level = 1, \n                quietly=TRUE)\n\n# Ordena los resultados de mayor a menor\nd1 &lt;- d1[order(d1$value, decreasing = T),]\n\n\nplotChord(d1, \n          from = \"term1\", \n          to =\"term2\", \n          value= \"value\")\n\n\n\n\n\nAhora con los personajes\n\n# Reorganiza el corpus según\n# sentencias o frases\ncs &lt;- corpus_reshape(cp, \"sentences\")\n\n# Calcula la frecuencia en la\n# que dos codigos del mismo \n# diccionario aparecen juntos\n# en cada frase\nd1 &lt;- matchCodes(cs, \n                dich, \n                level = 2, \n                quietly=TRUE)\n\n# Ordena los resultados de mayor a menor\nd1 &lt;- d1[order(d1$value, decreasing = T),]\n\n\nplotChord(d1, \n          from = \"term1\", \n          to =\"term2\", \n          value= \"value\", elementId = \"chord2\")"
  },
  {
    "objectID": "Analisis.html#análisis-de-la-obra-de-teatro-tres-sombreros-de-copa",
    "href": "Analisis.html#análisis-de-la-obra-de-teatro-tres-sombreros-de-copa",
    "title": "La RegentaAnálisis de la novela en R",
    "section": "Análisis de la obra de teatro “Tres sombreros de copa”",
    "text": "Análisis de la obra de teatro “Tres sombreros de copa”\naaa"
  },
  {
    "objectID": "prepa.html",
    "href": "prepa.html",
    "title": "PreparaciónPreparación de los textos en R",
    "section": "",
    "text": "El R permite diferentes tipos de análisis de textos.\nDos tipos de texto. De un lado, una novela. De otro, una obra de teatro. Abren la posibilidad de comparar los resultados de los análisis de textos literarios."
  },
  {
    "objectID": "prepa.html#introducción",
    "href": "prepa.html#introducción",
    "title": "PreparaciónPreparación de los textos en R",
    "section": "",
    "text": "El R permite diferentes tipos de análisis de textos.\nDos tipos de texto. De un lado, una novela. De otro, una obra de teatro. Abren la posibilidad de comparar los resultados de los análisis de textos literarios."
  },
  {
    "objectID": "prepa.html#novela",
    "href": "prepa.html#novela",
    "title": "PreparaciónPreparación de los textos en R",
    "section": "Novela",
    "text": "Novela\nAbrimos los"
  },
  {
    "objectID": "prepa.html#obra-de-teatro",
    "href": "prepa.html#obra-de-teatro",
    "title": "PreparaciónPreparación de los textos en R",
    "section": "Obra de teatro",
    "text": "Obra de teatro\nsdsd"
  },
  {
    "objectID": "regenta.html",
    "href": "regenta.html",
    "title": "La RegentaAnálisis de la novela en R",
    "section": "",
    "text": "El R permite diferentes tipos de análisis de textos.\nDos tipos de texto. De un lado, una novela. De otro, una obra de teatro. Abren la posibilidad de comparar los resultados de los análisis de textos literarios."
  },
  {
    "objectID": "regenta.html#introducción",
    "href": "regenta.html#introducción",
    "title": "La RegentaAnálisis de la novela en R",
    "section": "",
    "text": "El R permite diferentes tipos de análisis de textos.\nDos tipos de texto. De un lado, una novela. De otro, una obra de teatro. Abren la posibilidad de comparar los resultados de los análisis de textos literarios."
  },
  {
    "objectID": "regenta.html#análisis-de-la-novela-la-regenta",
    "href": "regenta.html#análisis-de-la-novela-la-regenta",
    "title": "La RegentaAnálisis de la novela en R",
    "section": "Análisis de la novela “La Regenta”",
    "text": "Análisis de la novela “La Regenta”\nAbrimos los datos\n\n# carga los datos de \"La Regenta\"\nload(\"../textos/Regenta.RData\")\n\nHacemos un análisis sumario de los capítulos\n\n# carga el paquete quanteda para \n# algunos análisis\nlibrary(quanteda)\n\n# convierte en un documento corpus\ncp &lt;- corpus(regc, text_field = \"texto\")\n\n# define los capítulos como nombre\n# de los documentos\ndocnames(cp) &lt;- regc$capitulo\n\n# muestra estadísticas básicas de\n# cada capítulo\nsummary(cp)\n\nCorpus consisting of 32 documents, showing 32 documents:\n\n          Text Types Tokens Sentences   parte      capitulo\n  001 - Título    16     16         1  Título  001 - Título\n 002 - Prólogo  1661   4649       101 Prólogo 002 - Prólogo\n            01  3753  14662       466  Tomo I            01\n            02  2236   8029       298  Tomo I            02\n            03  2194   8395       384  Tomo I            03\n            04  2448   9121       360  Tomo I            04\n            05  3104  13640       542  Tomo I            05\n            06  2312   8171       347  Tomo I            06\n            07  2194   9012       391  Tomo I            07\n            08  3178  13095       581  Tomo I            08\n            09  2832  10992       492  Tomo I            09\n            10  2096   8184       390  Tomo I            10\n            11  3026  13356       529  Tomo I            11\n            12  4169  18985       717  Tomo I            12\n            13  3611  17074       541  Tomo I            13\n            14  1980   8172       345  Tomo I            14\n            15  2869  13484       531  Tomo I            15\n            16  4022  17978       543 Tomo II            16\n            17  2190   9804       332 Tomo II            17\n            18  2793  10446       311 Tomo II            18\n            19  2947  12333       407 Tomo II            19\n            20  3753  16462       626 Tomo II            20\n            21  3681  16554       676 Tomo II            21\n            22  3256  14615       522 Tomo II            22\n            23  2087   8302       308 Tomo II            23\n            24  2031   8248       317 Tomo II            24\n            25  2343  10096       476 Tomo II            25\n            26  2812  12811       534 Tomo II            26\n            27  3122  14099       642 Tomo II            27\n            28  2889  13290       491 Tomo II            28\n            29  3532  18228       716 Tomo II            29\n            30  3724  21083       843 Tomo II            30\n\n\nHacemos un análisis de frecuencia de palabras\n\n# convierte en una matriz de términos\ndtm &lt;- dfm(tokens(cp, remove_punct = TRUE, \n                  remove_numbers = TRUE, \n                  remove_symbols = TRUE), \n           tolower = TRUE)\n\ndtm &lt;- dfm_remove(dtm, c(stopwords(\"es\"),\"si\"))\n\n# muestra las 50 palabras más frecuentes\ntopfeatures(dtm, 50)\n\n      don       ana     usted magistral   aquella     aquel    álvaro    víctor \n     1791       897       822       769       761       733       490       489 \n     casa   regenta     señor   vetusta      allí       ser   después      doña \n      482       468       458       455       450       437       417       414 \n    decía       vez     mesía     podía     ahora      bien    fermín       así \n      414       392       373       369       364       353       350       347 \n     ojos       dos       iba   siempre    quería       tan     menos      dijo \n      347       334       333       332       328       327       327       326 \n     vida     mismo    hombre      dios     veces quintanar     mundo     mujer \n      324       320       315       310       307       305       290       286 \n   tiempo     todas      alma       ver     sabía       día   parecía      amor \n      283       282       281       280       279       271       267       267 \n  aquello     decir \n      265       259 \n\n\ndiccionario\n\ndic &lt;- dictionary(\n  list(\n    familia=c(\"padre\", \"madre\", \"hijo\", \"hija\", \"hermano\", \"hermana\"),\n    sociedad=c(\"vetustense\",\"señor\",\"puebl\",\"ciudad\",\"conversa\",\"amig\"),\n    iglesia=c(\"cura\",\"obispo\",\"sacerdo\",\"confesión\",\"religi\",\"canónig\",\"capilla\"),\n    economia=c(\"dinero\",\"deuda\",\"negoci\",\"trabaj\",\"fortuna\",\"rico\",\"rica\"),\n    sentimientos=c(\"culpa\",\"alegr\",\"amor\",\"remordimiento\",\"ridículo\",\"vergüenza\",\"triste\"),\n    misticismo=c(\"Fermín de Pas\",\"Fermín\",\"\\\\bde Pas\\\\b\", \"magistral\", \"espirit\",\"dios\"),\n    adulterio=c(\"Álvaro Mesía\",\"Álvaro\",\"Mesía\",\"Presidente del Casino\", \"marido\", \"placer\", \"pasión\", \"amante\",\"amorío\"),\n    espacio=c(\"casino\",\"catedral\",\"vivero\",\"casa\",\"espolón\",\"teatro\"),\n    tiempo=c(\"otoño\",\"verano\",\"invierno\",\"primavera\",\"semana santa\",\"navidad\")\n  )\n)\n    \nlibrary(tenet)\n    \ntagCorpus(cp, dic, reshape.to = \"sentence\")\n\n\n\n\n\n\n\ndicf &lt;- dictionary(\n  list(\n    familia=c(\"padre\", \"madre\", \"hijo\", \"hija\", \"hermano\", \"hermana\"),\n    sociedad=c(\"vetustense\",\"señor\",\"puebl\",\"ciudad\",\"conversa\",\"amig\")\n))\n\n\nplotLexDiv(cp, dicf, title =\"La Regenta\", subtitle = \"Familia e iglesia en la novela\", palette = pal$cat.awtools.spalette.6[1:2])\n\n\n\n\n\nxy &lt;- countKeywords(cp, \n                    dic, \n                    rel.freq = F, \n                    quietly = TRUE)\n\n# Elimina los términos no encontrados\nxy &lt;- xy[xy$frequency&gt;0,]\n\nxy$groups &lt;- NULL\n\nforceDirectedTree(xy,value_col = \"frequency\",\n                  palette = pal$cat.awtools.bpalette.16, \n                  max.radius = 50, \n                  height = 500)\n\n\n\n\n\nlo mismo se puede ver así:\n\nplotVoronoiTree(data = xy,\n                value_col = \"frequency\")\n\n\n\n\n\ndd\n\ndich &lt;- dictionary(\n  list(\n    hombres=\n      list(\n           Alvaro=c(\"Álvaro Mesía\",\n                    \"Álvaro\",\n                    \"Mesía\",\n                    \"presidente del casino\"),\n           Saturnino=c(\"Saturnino Bermúdez\",\n                       \"Saturnino\",\n                       \"Bermúdez\",\n                       \"Saturno\",\n                       \"Saturnillo\"),\n           Fermin=c(\"Magistral\",\n                    \"Provisor\",\n                    \"Fermín\",\n                    \"De Pas\",\n                    \"Fermín de Pas\",\n                    \"Magistral\"),\n           Victor=c(\"Víctor\",\n                    \"Víctor Quintanar\",\n                    \"Quintanar\"),\n           Otros=c(\"Custodio\",\n                   \"Frígilis\",\n                   \"Anacleto\",\n                   \"Carlos\",\n                   \"Orgaz\",\n                   \"Bismark\",\n                   \"Celedonio\",\n                   \"monaguillo\",\n                   \"Pedro\",\n                   \"Palomo\",\n                   \"Cayetano\",\n                   \"Cayetano Ripamilán\",\n                   \"Ripamilán\",\n                   \"Cenceño\",\n                   \"Pompeyo\",\n                   \"Pompeyo Guimarán\",\n                   \"Guimarán\",\n                   \"Paco\",\n                   \"Paquito\",\n                   \"don Santos\")\n           ),\n    mujeres=\n      list(\n        Ana=c(\"Ana\",\n              \"Anita\",\n              \"Regenta\"),\n        Obdulia=c(\"Obdulia\",\n                  \"Obdulia Fandiño\",\n                  \"Fandiño\",\n                  \"Obdulita\"),\n        Otras=c(\"Visitación\",\n                \"Petra\",\n                \"Camila\",\n                \"doña Anuncia\",\n                \"Anuncita\",\n                \"Águeda\",\n                \"doña Paula\",\n                \"marquesa\",\n                \"doña Petronila\")\n    )\n  )\n)\n\n\n\n\nxp &lt;- countKeywords(cp, \n                    dich, \n                    rel.freq = F, \n                    group.var = \"capitulo\",\n                    quietly = TRUE)\n\n# Agrega los resultados por los dos niveles\n# de código del diccionario\nxx &lt;- aggregate(list(frequency=xp$frequency), \n                by=list(groups=xp$groups, \n                        level1=xp$level2), \n                sum, na.rm=T)\n\n# Elimina los términos no encontrados\n# en el corpus\nxx &lt;- xx[xx$frequency&gt;0,]\n\n# Ordena por capítulo\nxx &lt;- xx[order(xx$groups),]\n\nplotSankey(xx, \n           from = \"level1\", \n           to=\"groups\", \n           value = \"frequency\", \n           opacity = 0.05)\n\n\n\n\n\ndddd\n\n# Reorganiza el corpus según\n# sentencias o frases\ncs &lt;- corpus_reshape(cp, \"sentences\")\n\n# Calcula la frecuencia en la\n# que dos codigos del mismo \n# diccionario aparecen juntos\n# en cada frase\nd1 &lt;- matchCodes(cs, \n                dic, \n                level = 1, \n                quietly=TRUE)\n\n# Ordena los resultados de mayor a menor\nd1 &lt;- d1[order(d1$value, decreasing = T),]\n\n\nplotChord(d1, \n          from = \"term1\", \n          to =\"term2\", \n          value= \"value\")\n\n\n\n\n\nAhora con los personajes\n\n# Reorganiza el corpus según\n# sentencias o frases\ncs &lt;- corpus_reshape(cp, \"sentences\")\n\n# Calcula la frecuencia en la\n# que dos codigos del mismo \n# diccionario aparecen juntos\n# en cada frase\nd1 &lt;- matchCodes(cs, \n                dich, \n                level = 2, \n                quietly=TRUE)\n\n# Ordena los resultados de mayor a menor\nd1 &lt;- d1[order(d1$value, decreasing = T),]\n\n\nplotChord(d1, \n          from = \"term1\", \n          to =\"term2\", \n          value= \"value\", elementId = \"chord2\")\n\n\n\n\n\naaa"
  },
  {
    "objectID": "sombreros.html",
    "href": "sombreros.html",
    "title": "Tres sombreros de copaAnálisis de redes de diálogo en R",
    "section": "",
    "text": "El R permite diferentes tipos de análisis de textos."
  },
  {
    "objectID": "sombreros.html#introducción",
    "href": "sombreros.html#introducción",
    "title": "Tres sombreros de copaAnálisis de redes de diálogo en R",
    "section": "",
    "text": "El R permite diferentes tipos de análisis de textos."
  },
  {
    "objectID": "sombreros.html#análisis-de-la-novela-la-regenta",
    "href": "sombreros.html#análisis-de-la-novela-la-regenta",
    "title": "La RegentaAnálisis de la novela en R",
    "section": "Análisis de la novela “La Regenta”",
    "text": "Análisis de la novela “La Regenta”\nAbrimos los datos\n\n# carga los datos de \"La Regenta\"\nload(\"../textos/Regenta.RData\")\n\nHacemos un análisis sumario de los capítulos\n\n# carga el paquete quanteda para \n# algunos análisis\nlibrary(quanteda)\n\n# convierte en un documento corpus\ncp &lt;- corpus(regc, text_field = \"texto\")\n\n# define los capítulos como nombre\n# de los documentos\ndocnames(cp) &lt;- regc$capitulo\n\n# muestra estadísticas básicas de\n# cada capítulo\nsummary(cp)\n\nCorpus consisting of 32 documents, showing 32 documents:\n\n          Text Types Tokens Sentences   parte      capitulo\n  001 - Título    16     16         1  Título  001 - Título\n 002 - Prólogo  1661   4649       101 Prólogo 002 - Prólogo\n            01  3753  14662       466  Tomo I            01\n            02  2236   8029       298  Tomo I            02\n            03  2194   8395       384  Tomo I            03\n            04  2448   9121       360  Tomo I            04\n            05  3104  13640       542  Tomo I            05\n            06  2312   8171       347  Tomo I            06\n            07  2194   9012       391  Tomo I            07\n            08  3178  13095       581  Tomo I            08\n            09  2832  10992       492  Tomo I            09\n            10  2096   8184       390  Tomo I            10\n            11  3026  13356       529  Tomo I            11\n            12  4169  18985       717  Tomo I            12\n            13  3611  17074       541  Tomo I            13\n            14  1980   8172       345  Tomo I            14\n            15  2869  13484       531  Tomo I            15\n            16  4022  17978       543 Tomo II            16\n            17  2190   9804       332 Tomo II            17\n            18  2793  10446       311 Tomo II            18\n            19  2947  12333       407 Tomo II            19\n            20  3753  16462       626 Tomo II            20\n            21  3681  16554       676 Tomo II            21\n            22  3256  14615       522 Tomo II            22\n            23  2087   8302       308 Tomo II            23\n            24  2031   8248       317 Tomo II            24\n            25  2343  10096       476 Tomo II            25\n            26  2812  12811       534 Tomo II            26\n            27  3122  14099       642 Tomo II            27\n            28  2889  13290       491 Tomo II            28\n            29  3532  18228       716 Tomo II            29\n            30  3724  21083       843 Tomo II            30\n\n\nHacemos un análisis de frecuencia de palabras\n\n# convierte en una matriz de términos\ndtm &lt;- dfm(tokens(cp, remove_punct = TRUE, \n                  remove_numbers = TRUE, \n                  remove_symbols = TRUE), \n           tolower = TRUE)\n\ndtm &lt;- dfm_remove(dtm, c(stopwords(\"es\"),\"si\"))\n\n# muestra las 50 palabras más frecuentes\ntopfeatures(dtm, 50)\n\n      don       ana     usted magistral   aquella     aquel    álvaro    víctor \n     1791       897       822       769       761       733       490       489 \n     casa   regenta     señor   vetusta      allí       ser   después      doña \n      482       468       458       455       450       437       417       414 \n    decía       vez     mesía     podía     ahora      bien    fermín       así \n      414       392       373       369       364       353       350       347 \n     ojos       dos       iba   siempre    quería       tan     menos      dijo \n      347       334       333       332       328       327       327       326 \n     vida     mismo    hombre      dios     veces quintanar     mundo     mujer \n      324       320       315       310       307       305       290       286 \n   tiempo     todas      alma       ver     sabía       día   parecía      amor \n      283       282       281       280       279       271       267       267 \n  aquello     decir \n      265       259 \n\n\ndiccionario\n\ndic &lt;- dictionary(\n  list(\n    familia=c(\"padre\", \"madre\", \"hijo\", \"hija\", \"hermano\", \"hermana\"),\n    sociedad=c(\"vetustense\",\"señor\",\"puebl\",\"ciudad\",\"conversa\",\"amig\"),\n    iglesia=c(\"cura\",\"obispo\",\"sacerdo\",\"confesión\",\"religi\",\"canónig\",\"capilla\"),\n    economia=c(\"dinero\",\"deuda\",\"negoci\",\"trabaj\",\"fortuna\",\"rico\",\"rica\"),\n    sentimientos=c(\"culpa\",\"alegr\",\"amor\",\"remordimiento\",\"ridículo\",\"vergüenza\",\"triste\"),\n    misticismo=c(\"Fermín de Pas\",\"Fermín\",\"\\\\bde Pas\\\\b\", \"magistral\", \"espirit\",\"dios\"),\n    adulterio=c(\"Álvaro Mesía\",\"Álvaro\",\"Mesía\",\"Presidente del Casino\", \"marido\", \"placer\", \"pasión\", \"amante\",\"amorío\"),\n    espacio=c(\"casino\",\"catedral\",\"vivero\",\"casa\",\"espolón\",\"teatro\"),\n    tiempo=c(\"otoño\",\"verano\",\"invierno\",\"primavera\",\"semana santa\",\"navidad\")\n  )\n)\n    \nlibrary(tenet)\n    \ntagCorpus(cp, dic, reshape.to = \"sentence\")\n\n\n\n\n\n\n\ndicf &lt;- dictionary(\n  list(\n    familia=c(\"padre\", \"madre\", \"hijo\", \"hija\", \"hermano\", \"hermana\"),\n    sociedad=c(\"vetustense\",\"señor\",\"puebl\",\"ciudad\",\"conversa\",\"amig\")\n))\n\n\nplotLexDiv(cp, dicf, title =\"La Regenta\", subtitle = \"Familia e iglesia en la novela\", palette = pal$cat.awtools.spalette.6[1:2])\n\n\n\n\n\nxy &lt;- countKeywords(cp, \n                    dic, \n                    rel.freq = F, \n                    quietly = TRUE)\n\n# Elimina los términos no encontrados\nxy &lt;- xy[xy$frequency&gt;0,]\n\nxy$groups &lt;- NULL\n\nforceDirectedTree(xy,value_col = \"frequency\",\n                  palette = pal$cat.awtools.bpalette.16, \n                  max.radius = 50, \n                  height = 500)\n\n\n\n\n\nlo mismo se puede ver así:\n\nplotVoronoiTree(data = xy,\n                value_col = \"frequency\")\n\n\n\n\n\ndd\n\ndich &lt;- dictionary(\n  list(\n    hombres=\n      list(\n           Alvaro=c(\"Álvaro Mesía\",\n                    \"Álvaro\",\n                    \"Mesía\",\n                    \"presidente del casino\"),\n           Saturnino=c(\"Saturnino Bermúdez\",\n                       \"Saturnino\",\n                       \"Bermúdez\",\n                       \"Saturno\",\n                       \"Saturnillo\"),\n           Fermin=c(\"Magistral\",\n                    \"Provisor\",\n                    \"Fermín\",\n                    \"De Pas\",\n                    \"Fermín de Pas\",\n                    \"Magistral\"),\n           Victor=c(\"Víctor\",\n                    \"Víctor Quintanar\",\n                    \"Quintanar\"),\n           Otros=c(\"Custodio\",\n                   \"Frígilis\",\n                   \"Anacleto\",\n                   \"Carlos\",\n                   \"Orgaz\",\n                   \"Bismark\",\n                   \"Celedonio\",\n                   \"monaguillo\",\n                   \"Pedro\",\n                   \"Palomo\",\n                   \"Cayetano\",\n                   \"Cayetano Ripamilán\",\n                   \"Ripamilán\",\n                   \"Cenceño\",\n                   \"Pompeyo\",\n                   \"Pompeyo Guimarán\",\n                   \"Guimarán\",\n                   \"Paco\",\n                   \"Paquito\",\n                   \"don Santos\")\n           ),\n    mujeres=\n      list(\n        Ana=c(\"Ana\",\n              \"Anita\",\n              \"Regenta\"),\n        Obdulia=c(\"Obdulia\",\n                  \"Obdulia Fandiño\",\n                  \"Fandiño\",\n                  \"Obdulita\"),\n        Otras=c(\"Visitación\",\n                \"Petra\",\n                \"Camila\",\n                \"doña Anuncia\",\n                \"Anuncita\",\n                \"Águeda\",\n                \"doña Paula\",\n                \"marquesa\",\n                \"doña Petronila\")\n    )\n  )\n)\n\n\n\n\nxp &lt;- countKeywords(cp, \n                    dich, \n                    rel.freq = F, \n                    group.var = \"capitulo\",\n                    quietly = TRUE)\n\n# Agrega los resultados por los dos niveles\n# de código del diccionario\nxx &lt;- aggregate(list(frequency=xp$frequency), \n                by=list(groups=xp$groups, \n                        level1=xp$level2), \n                sum, na.rm=T)\n\n# Elimina los términos no encontrados\n# en el corpus\nxx &lt;- xx[xx$frequency&gt;0,]\n\n# Ordena por capítulo\nxx &lt;- xx[order(xx$groups),]\n\nplotSankey(xx, \n           from = \"level1\", \n           to=\"groups\", \n           value = \"frequency\", \n           opacity = 0.05)\n\n\n\n\n\ndddd\n\n# Reorganiza el corpus según\n# sentencias o frases\ncs &lt;- corpus_reshape(cp, \"sentences\")\n\n# Calcula la frecuencia en la\n# que dos codigos del mismo \n# diccionario aparecen juntos\n# en cada frase\nd1 &lt;- matchCodes(cs, \n                dic, \n                level = 1, \n                quietly=TRUE)\n\n# Ordena los resultados de mayor a menor\nd1 &lt;- d1[order(d1$value, decreasing = T),]\n\n\nplotChord(d1, \n          from = \"term1\", \n          to =\"term2\", \n          value= \"value\")\n\n\n\n\n\nAhora con los personajes\n\n# Reorganiza el corpus según\n# sentencias o frases\ncs &lt;- corpus_reshape(cp, \"sentences\")\n\n# Calcula la frecuencia en la\n# que dos codigos del mismo \n# diccionario aparecen juntos\n# en cada frase\nd1 &lt;- matchCodes(cs, \n                dich, \n                level = 2, \n                quietly=TRUE)\n\n# Ordena los resultados de mayor a menor\nd1 &lt;- d1[order(d1$value, decreasing = T),]\n\n\nplotChord(d1, \n          from = \"term1\", \n          to =\"term2\", \n          value= \"value\", elementId = \"chord2\")\n\n\n\n\n\naaa"
  },
  {
    "objectID": "sombreros.html#redes-de-diálogo-en-tres-sombreros-de-copa",
    "href": "sombreros.html#redes-de-diálogo-en-tres-sombreros-de-copa",
    "title": "Tres sombreros de copaAnálisis de redes de diálogo en R",
    "section": "Redes de diálogo en “Tres sombreros de copa”",
    "text": "Redes de diálogo en “Tres sombreros de copa”\nAbrimos los datos\n\n# carga los datos de \"La Regenta\"\nload(\"../textos/Regenta.RData\")\n\nHacemos un análisis sumario de los capítulos\naaa"
  }
]